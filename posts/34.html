<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>如何使用 5000 块组装一台顶配 Mac Studio | YiFei Zhang&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="stylesheet" href="https://cdn.bootcss.com/prism/9000.0.1/themes/prism.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/KaTeX/0.5.1/katex.min.css">
    <script charset="utf-8" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async="true"></script>
    <link rel="icon" type="image/png" href="https://avatars2.githubusercontent.com/u/16968934?s=460&amp;v=4">
    <meta name="description" content="在这里了解我的一切，对编程的热爱永不停歇。">
    
    <link rel="preload" href="/assets/css/0.styles.0ff818ed.css" as="style"><link rel="preload" href="/assets/js/app.5abd99d6.js" as="script"><link rel="preload" href="/assets/js/11.05d3e33d.js" as="script"><link rel="preload" href="/assets/js/4.75c217d6.js" as="script"><link rel="preload" href="/assets/js/8.cabf8971.js" as="script"><link rel="preload" href="/assets/js/38.4cc6e044.js" as="script"><link rel="preload" href="/assets/js/3.62f894e9.js" as="script"><link rel="prefetch" href="/assets/js/10.e1ca0b20.js"><link rel="prefetch" href="/assets/js/12.0132a1d0.js"><link rel="prefetch" href="/assets/js/13.9f313e03.js"><link rel="prefetch" href="/assets/js/14.f1465f38.js"><link rel="prefetch" href="/assets/js/15.4a99a300.js"><link rel="prefetch" href="/assets/js/16.3dc01d8e.js"><link rel="prefetch" href="/assets/js/17.ebea0b77.js"><link rel="prefetch" href="/assets/js/18.f122c89e.js"><link rel="prefetch" href="/assets/js/19.f33689d4.js"><link rel="prefetch" href="/assets/js/2.fe237bcd.js"><link rel="prefetch" href="/assets/js/20.aa204a72.js"><link rel="prefetch" href="/assets/js/21.7f4b0749.js"><link rel="prefetch" href="/assets/js/22.998ce568.js"><link rel="prefetch" href="/assets/js/23.b54edaf9.js"><link rel="prefetch" href="/assets/js/24.7c402c99.js"><link rel="prefetch" href="/assets/js/25.bddae6c1.js"><link rel="prefetch" href="/assets/js/26.8a6feb55.js"><link rel="prefetch" href="/assets/js/27.c04ec6b1.js"><link rel="prefetch" href="/assets/js/28.c9d0f7a5.js"><link rel="prefetch" href="/assets/js/29.facf7514.js"><link rel="prefetch" href="/assets/js/30.2a641e26.js"><link rel="prefetch" href="/assets/js/31.1d375557.js"><link rel="prefetch" href="/assets/js/32.c2d969f9.js"><link rel="prefetch" href="/assets/js/33.1d323e5d.js"><link rel="prefetch" href="/assets/js/34.3656ac05.js"><link rel="prefetch" href="/assets/js/35.5d1bec64.js"><link rel="prefetch" href="/assets/js/36.5ceb42fc.js"><link rel="prefetch" href="/assets/js/37.3667ae0d.js"><link rel="prefetch" href="/assets/js/39.4724f8f3.js"><link rel="prefetch" href="/assets/js/40.eb4d5d7a.js"><link rel="prefetch" href="/assets/js/41.0bc4bcfe.js"><link rel="prefetch" href="/assets/js/42.3b7d5539.js"><link rel="prefetch" href="/assets/js/43.f46aed43.js"><link rel="prefetch" href="/assets/js/5.985cce7c.js"><link rel="prefetch" href="/assets/js/6.08f9588d.js"><link rel="prefetch" href="/assets/js/7.9aba82c0.js"><link rel="prefetch" href="/assets/js/9.d78be9b4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0ff818ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="header-wrap" data-v-33920667><div class="header page" data-v-33920667><div class="left" data-v-33920667><div class="motto" data-v-33920667></div> <div class="nav" data-v-33920667></div></div> <div class="right" data-v-33920667><div class="search-box" data-v-33920667><input aria-label="Search" placeholder="" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></div> <div class="page post-page"><div class="title"><div class="post-title">如何使用 5000 块组装一台顶配 Mac Studio</div></div> <div class="info"><div class="author">Yidadaa</div> <div class="date">2022/11/07</div> <div class="count"><span id="busuanzi_value_page_pv"></span> <span>views</span></div></div> <div class="post-content"><div class="content__default"><h1 id="如何使用-5000-块组装一台顶配-mac-studio"><a href="#如何使用-5000-块组装一台顶配-mac-studio" class="header-anchor">#</a> 如何使用 5000 块组装一台顶配 Mac Studio</h1> <blockquote><p>写给程序员的小尺寸高性能黑苹果主机装配指南，全文约 10000 字。</p></blockquote> <blockquote><p>本文同步发表至：<a href="https://flowus.cn/yifei/share/cb8f8b2f-591f-4a34-a901-b714a4c81bcc" target="_blank" rel="noopener noreferrer">FlowUs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://zhuanlan.zhihu.com/p/580506404" target="_blank" rel="noopener noreferrer">知乎<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://github.com/Yidadaa/Yidadaa.github.io/issues/34" target="_blank" rel="noopener noreferrer">Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://blog.simplenaive.cn/34" target="_blank" rel="noopener noreferrer">博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <blockquote><p>请使用良好的网络环境访问此文，否则图片可能无法加载。</p></blockquote> <p><img src="https://user-images.githubusercontent.com/16968934/200374112-bac58562-f71f-4f32-b674-b012a275d56a.png" alt="image">
左：Mac Studio，右：穷逼版</p> <p><img src="https://user-images.githubusercontent.com/16968934/200374176-9667385a-dc3d-414e-86b6-f6c88cb4afc7.png" alt="image">
与 24 寸显示器的对比</p> <p><img src="https://user-images.githubusercontent.com/16968934/200374261-61910710-fe87-40c8-91a8-c59bcd20b5c0.png" alt="image">
与 330ml 杯子的对比</p> <p><img src="https://user-images.githubusercontent.com/16968934/200374347-dadcac5b-fde2-4b7f-a74c-c0e9da1b257b.png" alt="image">
日常使用负载</p> <h2 id="长话短说"><a href="#长话短说" class="header-anchor">#</a> 长话短说</h2> <table><thead><tr><th>性能对比</th> <th>CPU</th> <th>内存</th> <th>硬盘</th> <th>性能（R23）</th> <th>价格</th> <th>体积</th></tr></thead> <tbody><tr><td>Mac Studio</td> <td>M1 Ultra</td> <td>64GB</td> <td>1TB 固态</td> <td>多核 23705</td> <td>29999</td> <td>197mm * 197mm * 95mm = 3.68L</td></tr> <tr><td>穷逼版</td> <td>i7 12700</td> <td>64GB</td> <td>1TB 固态</td> <td>多核 21568</td> <td>4946</td> <td>196mm * 218mm * 117mm = 4.9L</td></tr></tbody></table> <ul><li>本文只面向程序员群体，优先保证编译性能和开发舒适度，不面向视频剪辑等创意工作者，不考虑视频剪辑性能；</li> <li>重点考虑 CPU 单核和多核性能，优先内存和硬盘容量，考虑机箱体积，不太考虑内存频率，不追求硬盘速度，不太考虑显卡性能，不太考虑噪音，完全不考虑外观精致程度；</li> <li>优点：便宜，量大管饱，装机完成后，可当做白苹果使用，无痛升级后续系统，可支持 MacOS、Windows 和 Linux 三系统共存；</li> <li>缺点：折腾，组装机箱和安装系统需要有一定动手能力，不适用于日薪大于 1w 的用户，不适用于无计算机硬件常识用户；</li> <li>硬件到位之后，在网络良好情况下，半天即可完成装机；</li> <li>多核编译同一个项目，M1 Max 需 6min，本文主机需 4min，多核性能对比与 R23 跑分对比大致保持一致。</li></ul> <h2 id="阅读须知"><a href="#阅读须知" class="header-anchor">#</a> 阅读须知</h2> <ul><li>适用群体：
<ul><li>写代码的</li> <li>买不起 Mac Studio 的</li> <li>有一定的折腾能力的</li></ul></li> <li>不适用群体：
<ul><li>打游戏的</li> <li>富哥富姐请直接使用钞能力</li> <li>剪视频的</li> <li>懒得折腾的（可以购置硬件后，购买淘宝黑苹果装机服务）</li></ul></li> <li>本文包含以下内容：
<ul><li>提供了购买硬件和装机过程中的一些需要考虑的事项</li> <li>提供了分别对标 M1 Mac mini、M1 max Mac studio 和 M1 ultra Mac studio 性能（不含 GPU 和磁盘性能）且同等体积的装机购置清单</li> <li>提供了安装黑苹果所需的硬件考虑事项以及系统安装须知</li></ul></li></ul> <h2 id="为什么需要装这样一台机器"><a href="#为什么需要装这样一台机器" class="header-anchor">#</a> 为什么需要装这样一台机器</h2> <blockquote><p>可以跳过此章节。</p></blockquote> <p>总而言之，对于我来说，主要有两个原因：</p> <ul><li><p>主要原因：公司电脑性能拉跨，满足不了开发需要；</p></li> <li><p>次要原因：目前在用的 MacOS 13 Ventura 系统拉跨，降级麻烦。</p></li></ul> <p>所以，我需要搞一台高性能主机来替换掉公司发的老旧 MBP。</p> <p>其实公司配的 2020 款 MBP 并不算老，就是性能有点差，10 代标压 i5-1038NG7 处理器加 16GB 板载内存，多核性能大概是 M1 的一半，省着点还是可以用的。</p> <p>但我在 MacOS 13 技术预览版刚放出来时候，就迫不及待地手贱升级了一波，然后成功被新系统的各种卡顿 Bug 和内存占用虚高问题治好了低血压。即便到如今已经发布了正式版，这些问题仍旧存在，以至于日常开发时随便开个 VS Code 再加几个网页，内存就基本见底了。</p> <p>后来为了能保证正常开发，我不得不花一周时间把 Vim 打造成主力 IDE，以便直接在开发机上写代码。</p> <p>此外，除了 MacOS 拉跨，公司的项目本身也对设备性能要求很高。</p> <p>身后的同事老哥前段时间斥巨资入手了一款中配 M1 Max 款 Mac Studio，原因就是公司发放的设备很难满足开发需求。我们日常的技术栈是 C++ 和 React，前者在我那台十代标压 i5 上，全量编译整个项目需要花费 20 分钟到 30 分钟的时间，编译个几次项目，半天就没了，倒是非常适合划水。虽然大多数时间并不会全量编译，但每次增量编译耗时也在分钟级别，非常可观，十分难受。</p> <p>后者 React 更是重量级，NodeJS + HMR + 浏览器堪称内存黑洞，再配合 C++ 建立的 Clang 符号表索引，16GB 板载内存直接被榨干，一天下来大多数时间都在等编译和页面响应。</p> <p>当然这也并不是完全没有好处，由于等待的成本过于高昂，我们写下每行代码前都要深思熟虑，每次编译前都要检查个半天，所以那段时间的代码质量总感觉也高了不少 😆。</p> <p>后来我们安排了一台 36 核 72 线程（含两颗 18C36T Intel Xeon Gold 6240 CPU）的开发机，第一次用它编译项目的时候，有种便秘两周之后突然窜稀的畅快感觉，以前 20 多分钟的编译，现在两分钟就完事了，比以前跑单测都快。</p> <p>然而即便用了开发机和 Vim 之后，我还是经常被系统卡顿和内存不足烦得要死，随便开几个网页，该卡还是卡，就这样将就了两个多月，在某次系统彻底无响应之后，我一咬牙一狠心，决定加亿点钱解决这个问题。</p> <p>于是我便问了下身后老哥的 M1 Max 的编译时间，居然只要 6 分钟，已经完全够用了，怪不得他不怎么用开发机，我马上点开了苹果官网：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200374857-d6067e58-1765-4da2-8929-a4b58b24b145.png" alt="image"></p> <p>然后看到这个价格我火速关闭，那没事了，告辞。</p> <p>看来富哥的路是走不通了，只能使用穷逼的道路曲线救国了。</p> <h2 id="性能"><a href="#性能" class="header-anchor">#</a> 性能</h2> <p>苹果在发布会上把 M1 系列芯片吹得天花乱坠，拳打 Intel i9-11900，脚踢 RTX 3090，让我们来看看它的真面目：</p> <table><thead><tr><th>芯片名称</th> <th>规格</th> <th>R23 单核跑分</th> <th>R23 多核跑分</th> <th>功耗</th></tr></thead> <tbody><tr><td>Intel Core i5 1038NG7</td> <td>4 核 8 线程</td> <td>1116</td> <td>4979</td> <td>28W</td></tr> <tr><td>Apple M1</td> <td>8 核</td> <td>1510</td> <td>7687</td> <td>6.8W ~ 39W</td></tr> <tr><td>Intel Core i5 12400</td> <td>6 核 12 线程</td> <td>1697</td> <td>11905</td> <td>65W</td></tr> <tr><td>Apple M1 Max</td> <td>10 核</td> <td>1533</td> <td>12337</td> <td>11W ~ 115W</td></tr> <tr><td>Intel Core i7 12700</td> <td>12 核 20 线程</td> <td>1879</td> <td>21568</td> <td>PL1: 65W, PL2 180W</td></tr> <tr><td>Apple M1 Ultra</td> <td>20 核</td> <td>1506</td> <td>23705</td> <td>13W ~ 215W</td></tr> <tr><td>Intel Core i9 12900</td> <td>16 核 24 线程</td> <td>1988</td> <td>26455</td> <td>PL1: 65W, PL2 200W</td></tr></tbody></table> <p>确实很强，比 10 代 intel 强多了，但是面对 12 代 intel 还是不太行，毕竟功耗在这摆着，i9 12900 勉强守住了桌面 CPU 的底裤。</p> <p>苹果 M1 系列的能耗比确实惊人，但是我要放在公司使用，完全不用担心电费问题，功耗都是图一乐，于是经过一周的调研，确定了硬件配置单。</p> <h2 id="硬件配置单"><a href="#硬件配置单" class="header-anchor">#</a> 硬件配置单</h2> <blockquote><p>下列配置中的硬件，除显卡和网卡外，均为全新价格。</p></blockquote> <blockquote><p>如需查看更多配置单（M1 / M1 Max 级别），请跳转到文章末尾。</p></blockquote> <table><thead><tr><th>部件</th> <th>产品</th> <th>价格</th> <th>备注</th></tr></thead> <tbody><tr><td>CPU</td> <td>Intel i7 12700f 散片</td> <td>2110</td> <td>f 后缀代表不集成核显，比带核显版本便宜 100 块左右</td></tr> <tr><td>主板</td> <td>铭瑄 H610itx 挑战者</td> <td>569</td> <td>最便宜的能带得动 i7 12700 的 itx 主板</td></tr> <tr><td>内存条</td> <td>酷兽 32GB 3000Mhz 两根共 64GB</td> <td>798</td> <td>最便宜的 DDR4 内存，有 2666mhz / 3000mhz / 3200Mhz 三个版本，价格一样，哪个便宜有货买哪个</td></tr> <tr><td>硬盘</td> <td>光威弈 Pro 512GB nvme ssd</td> <td>295</td> <td>随便选的，可以加一百多块上 1TB 固态，反正便宜</td></tr> <tr><td>散热器</td> <td>利民 Axp90 x53 + LGA17xx 扣具</td> <td>159</td> <td>选购时需要考虑机箱适配的散热器高度，需要加 18 元额外购买利民 LGA17xx 扣具</td></tr> <tr><td>机箱</td> <td>傻瓜超人 K39 4.9L + 显卡延长线</td> <td>199</td> <td>196mm * 117mm * 218mm = 4.9L 体积，当前配置的体积最小最便宜的选择</td></tr> <tr><td>电源</td> <td>益衡 7030B 300W Flex 1U 电源</td> <td>398</td> <td>这个价格是加 100 块让店家换全模组电源线和静音风扇之后的版本，组装的时候理线会更方便</td></tr> <tr><td>显卡</td> <td>AMD RX550 2GB/4GB Polaris 核心</td> <td>300</td> <td>二手亮机卡，有 Lexa 和 Polaris 核心两个版本，建议买 4GB 显存 Polaris 核心版本，各版本价格无区别</td></tr> <tr><td>网卡</td> <td>博通 BCM94360CS2 + m2 ngff 正向转接卡</td> <td>118</td> <td>也可以选择 Intel AX201 或者更低端的 Intel 9560，能省个几十块钱，但需要额外配置驱动，没必要</td></tr></tbody></table> <p>我们一项一项来看，为什么要选用这些配置。</p> <h3 id="cpu-和主板"><a href="#cpu-和主板" class="header-anchor">#</a> CPU 和主板</h3> <p>首先，要再次明确一下目标，我们想要 M1 Ultra 级别的性能，那就只能在 i7 12700 及以上的 CPU 中选，大概有这么几个选项：</p> <ul><li><p>Intel i7 12700f 和 12700</p></li> <li><p>Intel i7 12700kf 和 12700k</p></li> <li><p>Intel i9 12900f</p></li> <li><p>Intel i9 12900kf 和 12900k</p></li></ul> <p>**为什么不选 AMD 的 CPU？**因为性价比不高，12 代 CPU 同价位性能比 AMD 5000 系列同价位性能稍强，价格稍便宜，而且目前 AMD 装黑苹果需要额外配置，有点麻烦，所以完全没有理由选 AMD。</p> <p>**为什么不选 13 代 Intel CPU？**因为性价比不高，目前只发布了带 K 后缀的高性能版本，需要搭配更好的主板和电源，而且 13 代 CPU 也相对更贵。</p> <p>然后，i7 和 i9 分别都有 f / k / kf 几个版本：</p> <ul><li><p>其中凡是带 f 的，都是不带集成显卡的版本，考虑到我们是装黑苹果，12 代集成显卡不能被驱动，所以必须得配个独立显卡，选择 f 版本就行，可以省下 100 块；</p></li> <li><p>其中凡是带 k 的，都代表着性能增强版，大概比不带 k 的版本性能强 10% - 15%，价格也要贵 5% - 10%，酌情购买。</p></li></ul> <p>由于 i9 处理器需要主板有更强的供电能力，主板的价格就水涨船高，所以我们退而求其次，选择 i7 12700，性能只比 M1 Ultra 弱 10%。当然，也可以加点钱上 12700k，这样性能和 M1 Ultra 持平，不过这点差距在实际使用时基本没什么区别，12700k 对主板供电能力也有一定的要求，丐板估计带不动。</p> <p>主板就不提了，铭瑄 H610itx 在 600 块价位基本无敌，找不到其他能一起打的。唯一缺点就是 itx 主板接口有点少，只能插两根内存条，目前消费级内存条单条最大也就 32GB，所以最多只能上 64GB 内存。</p> <p>而且这种低端丐板没有额外的 M.2 接口，只能插一条 Nvme 固态，要扩容的话，要么换固态，要么加 SATA 硬盘。不过还好 512GB SSD 够用了，即便是 1TB 的 SSD 也只要 400 出头，可以自己决定要不要加钱。</p> <p>购买建议：</p> <ul><li>购买散片板 U 套装即可</li></ul> <h3 id="内存条和硬盘"><a href="#内存条和硬盘" class="header-anchor">#</a> 内存条和硬盘</h3> <p>酷兽和光威是同一个厂，不同的产品线，酷兽主打性价比，399 块的 32GB 内存条要啥自行车，直接来两条插满。</p> <p>此外这个内存条有 2666mhz / 3000mhz / 3200mhz 三个频率版本，理论上铭瑄 h610itx 主板是支持 3200mhz 高频内存的，只需要在 BIOS 里设置一下就行，但是说实话内存频率感知不强，只有核显打游戏才对内存频率有要求，如果用来开发，随便买就行，高频内存属实浪费预算，哪个有货买哪个。</p> <p>最近固态硬盘也是白菜价，1tb 固态已经降到了 400 以下，当然也有更贵的性能更好的版本，但是对于开发来说感知不强，3000mb/s 和 7000mb/s 虽然看起来差距挺大，但是实际用的时候也就几百毫秒的差距，感知不出来，所以随便买个便宜的就行，重点还是看容量。</p> <p>购买建议：</p> <ul><li>哪个便宜买哪个，频率和读写速度并不重要；</li> <li>Mac Studio 的统一内存，官方读速是 800GB/s，与 3200mhz DDR4 内存条读速差不多；</li> <li>如果磁盘性能也想对标一下 Mac Studio，Mac Studio 硬盘速度为：读 5000MB/s，写 4000MB/s，大致与 PCIE 4.0 固态速度接近，所以可以酌情购买 PCIE 4.0 固态硬盘（铭瑄的这块主板支持，精粤的不支持），同体积大概是 PCIE 3.0 硬盘的 1.5 倍价格，512GB 版本大概 400 块可以搞定。</li></ul> <h3 id="散热器、机箱和电源"><a href="#散热器、机箱和电源" class="header-anchor">#</a> 散热器、机箱和电源</h3> <p>这三兄弟要一起看，其实显卡也应该拿过来一起看，但是开发场景，显卡不是很重要，所以显卡另说吧。</p> <p>之所以要放一起看，主要是尺寸问题，我想要体积尽可能接近 Mac Studio，Mac Studio 的体积是 197mm * 197mm * 9.5mm = 3.68L，一开始我买的是下面这个机箱：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200375317-17a17f5d-b8ae-424d-aab5-3cf3054e979e.png" alt="image"></p> <p>整体尺寸是 187mm * 230mm * 97mm = 4.2L，非常小巧。</p> <p>我选择了其中的 A 背板版本，没有显卡位，把空间全部让给散热器和电源，散热器也是买的 Axp90 x53（90mm 宽，53mm 高）。</p> <p>因为我一开始并没有打算装黑苹果，想直接用 Linux 来开发，但是后来发现 Linux 没办法入公司内网，而且企业微信也是残废状态，所以才考虑装黑苹果，于是换成了下面的机箱：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200375363-2379fe91-e33e-45f3-816a-1c58aad6c11a.png" alt="image"></p> <p>体积大了一圈，来到了 196mm * 117mm * 218mm = 4.9L，不过好在便宜，加显卡延长线才 200 块，比上一个 300 块的机箱便宜很多，而且可以加装一个 19cm 以内的双槽短卡，非常适合本文的需求。</p> <p>从上面机箱的商品介绍就可以知道，这个机箱支持 56mm 以内的散热器，一般来讲，散热器的尺寸与散热能力正相关，基本上体积越大，散热能力越好，在看了一圈视频之后，出现次数的就是利民的axp90 系列的几个散热器，价格在 100 元到 150 元之间：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200375397-361c99d5-7cf0-489b-837e-f4fb5244390f.png" alt="image"></p> <p>可以看到主要有 36mm / 47mm / 53mm 三种高度，名字 AXP90 则代表 90mm * 90mm 的尺寸，为了最大化机箱利用率，我选用了 53mm 高度版本，实测整机满载温度可以控制在 80 摄氏度以内，日常使用则只有 27 摄氏度左右，好悬没给 CPU 给冻感冒。</p> <p>此外，如果你想选用一些更小尺寸的机箱，在选散热器的时候一定要注意，最好预留 3mm 以上的空间余量，比如如果限高 56mm 的机箱，如果配了一个 55mm 高度的散热器，风扇叶片和机箱离得太近，会出现十分明显的啸叫。</p> <p>然后是电源，前面了解到 i7 12700 的满载功耗是 180w，再加上 50w 亮机显卡的功耗，总计 230w 的实际载荷，按照 80% 的电源转化率，我们只需要选择 290w 以上的电源即可满足需求。在尺寸方面，由于我们想让机箱的体积尽可能的小，而小尺寸 itx 机箱往往搭配使用小 1u 尺寸的 Flex 电源，这类电源的价格要比常规尺寸的电源稍贵一点，如果想要省钱，可以选购支持 SFX 电源的更大尺寸的机箱。</p> <p>最终我选择了益衡的 7030B 300w 电源：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200375452-b24da35f-415b-48cc-8953-af0ebe584500.png" alt="image"></p> <p><img src="https://user-images.githubusercontent.com/16968934/200375491-e805645b-fc76-4d2c-957f-03bb3a463178.png" alt="image"></p> <p>小 1u 电源还有个缺点是会比较吵，因为受体积限制，风扇必须提高转速才能保证散热，运行时会有比较明显的高频噪声，所以我选择加了 100 块，买了店家改装之后的版本（上图右侧）。</p> <p>改装版本换了更静音的风扇，并且配备了全模组电源线，大概长下面这个样子：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200375578-2df51c37-0c56-486c-ba22-d36fd79793b7.png" alt="image"></p> <p>电源线统一成了黑色的软线，比原装的五颜六色的硬线好看多了，而且装机的时候理线会非常简单，这一点在小机箱里尤其关键，所以这 100 块还是挺值的。</p> <p>购买建议：</p> <ul><li>购买全模组小 1u 电源，考虑购买全模组 + 静音风扇的改装版本</li> <li>购买散热器时注意机箱散热器限高</li> <li>利民散热器默认附带的主板支架只能与上一代 Intel CPU 搭配使用，需要额外花费 18 元购买利民 LGA17xx 扣具</li></ul> <h3 id="显卡"><a href="#显卡" class="header-anchor">#</a> 显卡</h3> <p>显卡需要着重讲一下，因为 MacOS 非常挑显卡，目前市售的 RTX 系列显卡基本都是驱动不了的，只要一些比较老的 Nvidia 显卡才能驱动。而大多数 AMD 显卡都能驱动，比如最近出的 6600 和 6700，但是 6400 除外，详细的 GPU 列表可以<a href="https://dortania.github.io/GPU-Buyers-Guide/modern-gpus/amd-gpu.html#native-amd-gpus" target="_blank" rel="noopener noreferrer">查看这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>由于我们并不需要特别强劲的显卡性能，所以只需要选择能够正常驱动的低功耗亮机卡即可，我一开始就直接从比较老的 R7 和 R9 系列显卡开始看：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200375686-da4a53e8-daf6-4927-87dd-b5586b5628cc.png" alt="image"></p> <p>可以看到有非常多的选项，我在淘宝搜了一圈之后，发现最低端的 R7 240/250 显卡只要 100 块，于是就直接下单买了一块，结果入手后折腾了许久才发现，这张 2013 年发售的老显卡，最高只能运行在 MacOS 10.x 系统上，最新的 12.x 系统是没法完美驱动的。我花了大量的时间搜索国内外关于这张 Oland 核心的显卡驱动帖子，没有发现任何人能成功在 11.x 及以上的系统上成功运行过它，虽然可以使用仿冒显卡 ID 的方法成功安装并进入系统，但是却无法使用 Metal GPU 加速，导致系统所有的高斯模糊效果以及动效都是缺失的，完全无法满足日常使用。</p> <p>于是我就又斥巨资花了 300 块买了一张 Rx550，这张显卡发售于 2017 年，网上有相当多的黑苹果视频表示这张卡可以完美工作在最新的 MacOS 13.0 系统上，而且完全不需要任何额外操作，插上就能用。当然，前提是买到了正确的版本的显卡，这张显卡有两种核心版本：Lexa 核心和 Buffin 核心（或称 Polaris 核心），其中 Buffin(Polaris) 核心是可以即插即用，但是 Lexa 核心则需要<a href="https://www.bilibili.com/read/cv15800495" target="_blank" rel="noopener noreferrer">仿冒参数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>才能工作。</p> <p>很不幸我买的这张 Rx550 2GB 联想拆机卡是 Lexa 核心，不过由于有了之前折腾 R7 240 的经历，对我来说还算简单。</p> <p>此外这张显卡有 2GB 显存和 4GB 显存两个版本，价格基本一样，我个人建议购买 4GB 版本，因为我在实际使用时发现，MacOS 12.x 系统很容易就把 2GB 显存吃满了，所以能买大的还是买大点的。</p> <p><img src="https://user-images.githubusercontent.com/16968934/200375752-81118659-e6fe-443e-bf82-bad353cf5940.png" alt="image"></p> <p>盈通的这张 RX550 4GB 就很适合，虽然是二手，有翻车的风险，但是我们并不会用来打游戏，所以只要它能点亮就行，反正日常负载不会太高，暴毙的可能性比较小。</p> <p>如果实在担心翻车，可以加点钱买全新版本，这张卡有全新正品在售，价格在 500 块到 600 块之间：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200375812-0c4657dc-fded-407c-836b-132ded517957.png" alt="image"></p> <p>购买建议：</p> <ul><li>购买 RX550 4GB Polaris 核心版本</li> <li>省钱就买二手，图稳就加点钱买全新</li> <li>购买显卡时注意显卡尺寸是否兼容机箱</li></ul> <h3 id="无线网卡"><a href="#无线网卡" class="header-anchor">#</a> 无线网卡</h3> <p>无线网卡也值得花点篇幅来说一说，目前黑苹果无线网卡可选 Intel NGFF 接口的一系列网卡，以及搭配转接板使用的博通 BCM 系列苹果拆机显卡：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200375892-727c87ae-e39e-48eb-8dfb-fe4495c209cf.png" alt="image"></p> <p>如果从省事的角度来看，直接买博通的拆机网卡即可，插上就能用。如果想省点钱，就买 Intel 最低端的 3168 系列：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200375922-f435efa8-1651-462d-bfb6-8cddf0228072.png" alt="image"></p> <p>其实在几年前，Intel 的无线网卡是没办法在苹果系统上使用的，后来有个大佬搓了一个驱动出来，然后 Intel 几乎所有型号的无线网卡一夜之间焕发第二春，具体的支持列表可以查看下面的链接：<a href="https://openintelwireless.github.io/itlwm/Compat.html#dvm-iwn" target="_blank" rel="noopener noreferrer">Compatibility | OpenIntelWireless<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>此外无线网卡的天线，有内置和外置两种区别：</p> <img width="202" alt="image" src="https://user-images.githubusercontent.com/16968934/200376150-0858b518-afca-46c7-80fa-5b5381c66631.png"> <img width="202" alt="image" src="https://user-images.githubusercontent.com/16968934/200376191-3dcfe932-0251-4d42-a9d3-b4261c297aa7.png"> <p>两者的区别：</p> <ul><li>外置天线是机箱后面的小尾巴，看起来可能不太美观，但是信号比较稳定，增益较强；</li> <li>内置天线则需要粘在机箱上，容易受机箱内部杂波干扰，增益较小，信号不太稳定，但由于不需要伸出机箱，所以会比较美观一点。</li></ul> <p>我选择了 Intel 9560 内置天线版本，花费 48 块，实装之后可以完美使用 WIFI 和蓝牙，隔空投送也可以正常使用，但是内置天线信号不稳定，蓝牙连接妙控板非常卡顿，基本无法日常使用。而且由于网卡规格较低，虽然标称 2.4G 300Mbps / 5G 1733Mbps，但实测只能跑到 50Mbps，可能最大的原因还是这个内置天线的信号太差，干扰太多。</p> <p>不过问题不大，这个主机的 WIFI 纯粹是为了应付公司的入网认证，认证完了之后就直接关掉用有线连接了，如果你对无线网络有需求，建议购买高规格的外置天线版本。</p> <p>购买建议：</p> <ul><li>购买博通 BCM 94360CS + 正向转接卡 + 外置天线版本，不用折腾，信号更好。</li></ul> <h2 id="装机"><a href="#装机" class="header-anchor">#</a> 装机</h2> <p>十分推荐先观看此视频：[DIY、攒机、ITX的魅力？熬过劝退，就会让你上瘾！](【DIY、攒机、ITX的魅力？熬过劝退，就会让你上瘾！】 https://www.bilibili.com/video/BV1v54y1Z7Er/?share_source=copy_web&amp;vd_source=c98e3a3eb29ccf6e7275fc3e0e6145a9)，视频中的配置与本文配置基本一致，可以参考。</p> <img width="548" alt="image" src="https://user-images.githubusercontent.com/16968934/200376409-19d4c0eb-2acc-42f7-a80b-036677c214cb.png"> <p>先上所有硬件的全家福，图中不包含显卡和网卡，因为拍摄照片的时候显卡和网卡还没到。</p> <h3 id="安装-cpu"><a href="#安装-cpu" class="header-anchor">#</a> 安装 CPU</h3> <img width="274" alt="image" src="https://user-images.githubusercontent.com/16968934/200376495-af4db007-b6da-4a49-8a92-bb302c9d70ec.png"> <p>主板说明书会提示如何安装 CPU，一定要小心不要弄坏了针脚，主板上的金属压杆会比较紧，确认 CPU 按照防呆口安装妥当后，稍加用力按下压杆，将 CPU 固定好即可。</p> <h3 id="上电测试"><a href="#上电测试" class="header-anchor">#</a> 上电测试</h3> <p>先别急着往机箱里塞，把内存条和硬盘插好之后，连接电源线和键鼠，用螺丝刀碰触主板上的开机引脚，显示器能够显示 BIOS 界面，则表示成功点亮。</p> <h3 id="安装散热器"><a href="#安装散热器" class="header-anchor">#</a> 安装散热器</h3> <p>按照散热器说明书进行安装即可，注意需要额外购买利民 LGA17xx 扣具。</p> <h3 id="安装机箱"><a href="#安装机箱" class="header-anchor">#</a> 安装机箱</h3> <p>按照机箱说明书安装即可，建议先安装电源，再安装主板，然后接电源线，安装显卡延长线，安装显卡。</p> <img width="609" alt="image" src="https://user-images.githubusercontent.com/16968934/200376596-5fc17184-3e23-40ff-921e-d07882522f97.png"> <h2 id="成品展示"><a href="#成品展示" class="header-anchor">#</a> 成品展示</h2> <img width="543" alt="image" src="https://user-images.githubusercontent.com/16968934/200376705-5ab95e41-da17-42ec-bfbb-7ed44c9d5c17.png"> <img width="538" alt="image" src="https://user-images.githubusercontent.com/16968934/200376804-8948e19c-6fdd-4c1d-be37-8a61d18684da.png"> <p>最终的成品大概比 Mac Studio 大了一圈，当然精致程度是没法比的，如果想要精致，可以加钱买更贵的全铝合金一体成型机箱（5.6L 体积）：</p> <p><img src="https://user-images.githubusercontent.com/16968934/200376871-9d4540ef-a61e-44cf-b8f7-576fc212d69e.png" alt="image"></p> <h2 id="系统"><a href="#系统" class="header-anchor">#</a> 系统</h2> <p>可以直接跳转到流程清单部分，如果你不需要安装 MacOS，可以无视下列内容。</p> <h3 id="为什么不用-windows-和-linux"><a href="#为什么不用-windows-和-linux" class="header-anchor">#</a> 为什么不用 Windows 和 Linux？</h3> <p>在最开始决定装机的时候，我就在考虑要使用什么操作系统作为主力开发环境，前文已经提到我需要频繁编译，所以编译性能是我首要考虑的问题，这样 Window 肯定就不能用了，Windows 下 C++ 编译性能一向令人诟病，即便有了 WSL，由于它运行在 Hyper-V 虚拟机中，导致 IO 性能跟不上，实际的性能大概是 Linux 原生的 80% 左右，直接损耗了 20% 的性能，要知道 Intel 的 CPU 一次代际升级的性能也才差不多 25%，Window 直接就让 CPU 性能倒退一代，这绝对是无法接受的。</p> <p>我随后的想法是使用 Linux 作为日常开发系统，并使用 KVM 安装 Windows 虚拟机来解决常用软件问题，我也确实尝试了这种做法，并依次使用了下列 Linux 发行版：</p> <ul><li>使用 KDE 桌面的 Debian，由于 Stable 版本的 Linux 内核太老，导致无法在 12 代 Intel 平台上正常安装，尝试几次后均未果，作罢；</li> <li>使用 KDE 桌面的 Ubuntu，也就是 KUbuntu，这个发行版确实很不错，KDE 对高分屏的支持非常不错，而且窗口主题和动效都很细腻，我用了大概一周时间，在上面使用 KVM 分别安装了 Windows 10 LTSC 以及 Mac OS 12 的虚拟机，前者用于运行企业微信，后者则是装来玩的，由于没有独显直通，Mac OS 虚拟机的运行流畅度十分感人。在 Linux 上运行 Windows 软件的另一个方法是使用 Wine，但无奈兼容性欠佳，无法正常运行最新版本的企业微信，微信倒是可以正常使用；</li> <li>使用 Gnome 的 Ubuntu，Gnome 对高分屏的支持太差劲，大多数应用没有对 Wayland 做兼容，甚至浏览器在分数倍缩放下都很糊，而且同样无法通过 Wine 运行企业微信，作罢；</li> <li>最后是国产的 Deepin，应该是最贴近日常使用的 Linux 发行版了，应用商店里有 Deepin 团队维护的 Wine 版微信和企业微信，但是企业微信还有点问题，虽然可以正常聊天，但是邮箱界面始终白屏，另外 Tim 也是卧龙凤雏，可以安装但无法启动。</li></ul> <p>我大概用了一周多的 Deepin，并成功在上面编译运行了公司的项目，编译时间大概是开发机的 2 倍速度，可以看到 i7 12700 的多核性能相当强悍。</p> <p>但是网络问题始终没有办法很好的解决，公司的内网认证软件是阿里出品的阿里郎的阉割版本，其入网认证条件非常严格，无法在 Windows 虚拟机中完成认证，更不用提 Wine 了，也没有提供 Linux 版本，导致我的主机就算插上网线也无法访问内网资源，而且这个软件入网必须要有无线网卡，大多数 USB 网卡都无法在 Linux 下免驱运行。</p> <p>为了解决这个问题，我琢磨了很久计算机网络相关的知识，大概有这么几种方法：</p> <ul><li>最容易想到的方法自然是用公司的苹果笔记本入网，然后当跳板机开代理给主机用，确实可以用，但是基于代理的方法，无法保证主机的所有流量都走代理，某些应用可能会绕开系统的代理策略，自行建立连接，这种方法不太稳定；</li> <li>然后比较容易想到的是使用 Mac 的网络共享，无奈在入网认证使用 802.1x 的安全策略，系统会直接禁用掉网络共享，这条路也走不通；</li> <li>最后想到的方法时把 Mac 模拟成一台路由器，直接网线直连主机，然后手动分配 IP 地址即可，经过一番搜索，其实只要开启 Mac 的 IP 路由转发即可，然后将来自 USB 网卡的所有流量都转发到无线网卡上，即可大功告成。</li></ul> <p>关于折腾 Linux 日用开发环境的记录，可以看这篇文章：</p> <p><a href="https://flowus.cn/5a11ca75-455d-4a67-840a-42939ef91c2c" target="_blank" rel="noopener noreferrer">Linux 开发环境备忘录<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>最后由于 Linux 上无法找到顺手的快速切换窗口的软件（类似 Mac Spotlight 的功能），还是决定安装黑苹果，可以直接无缝复用 MBP 的那一套工作流。</p> <h3 id="主要工具-opencore"><a href="#主要工具-opencore" class="header-anchor">#</a> 主要工具：OpenCore</h3> <p>安装黑苹果是一件非常需要耐心的事情，目前主流的安装黑苹果的工具是 OpenCore，其官方教程非常详细，流程也非常长，新手看了也非常头大：</p> <p><a href="https://dortania.github.io/OpenCore-Install-Guide/" target="_blank" rel="noopener noreferrer">OpenCore Install Guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>在翻阅许久之后，我决定放弃跟着官方教程走，官方手册的内容只适合当作速查表来使用，如果跟着从零开始做，不知道搞到猴年马月。</p> <p>先列举一下我认为比较有用的内容，首先是显卡购买指南：</p> <p><a href="https://dortania.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer">Introduction | GPU Buyers Guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>里面列举了各种可以用于黑苹果的显卡型号，以及它们支持的系统版本，当然这个指南中的某些老显卡的信息是错的，比如我前面提到的 R7 240，手册上说可以在最新的系统中通过仿冒 ID 的方式运行，但其实只能在 OS 10.x 以前的系统上运行，不过大多数信息都是准确的，可以放心参考。</p> <p>其次是 GPU 仿冒 ID 指南，如果你想折腾一下不直接免驱的显卡，可以参考它来仿冒 ID：</p> <p><a href="https://dortania.github.io/Getting-Started-With-ACPI/Universal/spoof.html" target="_blank" rel="noopener noreferrer">Renaming GPUs (SSDT-GPU-SPOOF) | Getting Started With ACPI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>我个人不推荐用这种方式来搞，太费时间，而且不一定有用，还是建议直接购买免驱显卡。</p> <h3 id="流程清单"><a href="#流程清单" class="header-anchor">#</a> 流程清单</h3> <p>如果自己搞不定，可以直接在淘宝购买黑苹果装机服务，远程手把手指导，价格在 100 元到几百元不等。</p> <p>可以看这个视频，了解大概步骤：<a href="https://www.bilibili.com/video/BV1K341137pj/?share_source=copy_web&amp;vd_source=c98e3a3eb29ccf6e7275fc3e0e6145a9" target="_blank" rel="noopener noreferrer">刷新记录！12代平台12400F仅需24秒即可完成黑苹果系统安装，请问还有谁？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>通用流程：</p> <ul><li>硬件准备：
<ul><li>16GB 及以上容量的内存卡或者移动硬盘，并格式化为 FAT32 格式；</li> <li>一台 Windows 电脑（Linux 或 Mac 也行）；</li> <li>组装好的等待安装系统的主机；</li> <li>良好的有线网络环境；</li> <li>耐心。</li></ul></li> <li>准备 EFI 引导文件：<a href="https://flowus.cn/6bb40d7b-8da6-464b-a551-0d0f0d663746" target="_blank" rel="noopener noreferrer">各版本 EFI 引导文件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>如果你的硬件配置是本文推荐的配置，那么直接下载上面列表中的安装包，解压即可；</li> <li>或者你可以在 Github 上搜索自己的主板名称，比如我就参考了这个仓库（<a href="https://github.com/Crack-DanShiFu/Hackintosh-MAXSUN--H610ITX-I512400-rx560" target="_blank" rel="noopener noreferrer">h610itx + i5 12400 + rx560 + bcm943602cs 网卡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）和这个仓库（<a href="https://github.com/LimeVista/Hackintosh-H610-12490F-AX201" target="_blank" rel="noopener noreferrer">h610itx + i5 12490f + rx560 + intel ax201 网卡<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>），在他们的基础上进行了少量修改，就适配了本文的硬件；</li> <li>经过上述步骤，你会获得一个 EFI 文件夹，将其拷贝到 U 盘或者移动硬盘中即可，如果你的硬件与上述现有的配置都不一样，请查阅常见问题章节。</li></ul></li> <li>准备基础安装镜像：
<ul><li>OpenCore 提供了一个很细致的教程来下载安装镜像，基础镜像大概 600MB 左右，按照这个教程（<a href="https://dortania.github.io/OpenCore-Install-Guide/installer-guide/winblows-install.html#downloading-macos" target="_blank" rel="noopener noreferrer">在 Windows 上下载安装镜像<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）下载镜像文件并复制到 U 盘即可。</li> <li>将 U 盘插入主机，按下 DEL 键进入主板的 BIOS 界面，如果你使用了其他主板，请自行搜索如何进入 BIOS，然后将 U 盘设置为第一启动项即可；</li></ul></li> <li>启动启动后进入安装界面：
<ul><li>选择磁盘工具，将 SSD 所在盘符格式化为 APFS 格式，并命名为 MacOS（或者其他任何英文名）；</li> <li>退出磁盘工具，点击安装 MacOS，进入常规安装流程；</li></ul></li> <li>在网络良好情况下，自动重启若干次后，大概 40 分钟即可安装成功；</li> <li>安装成功后，自动重启进入系统选择界面，选择 MacOS 盘符进入即可；</li> <li>将 EFI 文件夹复制到 SSD 硬盘上，可参考这个教程：<a href="https://apple.sqlsec.com/5-%E5%AE%9E%E6%88%98%E6%BC%94%E7%A4%BA/5-6.html" target="_blank" rel="noopener noreferrer">完善引导<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；</li> <li>到现在，你已经可以正常使用 MacOS，但是还无法使用 Apple ID 和 iCloud，你还需要生成自己的硬件序列号，请参考这个教程：<a href="https://sleele.com/2019/03/21/smbios/" target="_blank" rel="noopener noreferrer">为自己的黑苹果生成随机三码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；</li> <li>至此，大功告成。</li></ul> <h2 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h2> <h3 id="如何查看我买到的显卡的核心"><a href="#如何查看我买到的显卡的核心" class="header-anchor">#</a> 如何查看我买到的显卡的核心？</h3> <h4 id="搜索"><a href="#搜索" class="header-anchor">#</a> 搜索</h4> <ol><li>优先询问卖家，其次在搜索引擎中搜索显卡型号 + 核心即可。</li></ol> <h4 id="使用-pe-工具"><a href="#使用-pe-工具" class="header-anchor">#</a> 使用 PE 工具</h4> <ol><li>下载安装<a href="https://www.wepe.com.cn/download.html" target="_blank" rel="noopener noreferrer">微 PE 工具箱<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，并安装到 U 盘上；</li> <li>下载 GPU-Z：<a href="https://www.techpowerup.com/gpuz/" target="_blank" rel="noopener noreferrer">https://www.techpowerup.com/gpuz/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，复制到已经安装了 PE 工具的 U 盘中；</li> <li>进入 BIOS，将 U 盘设置为第一引导，进入 PE 系统，运行 GPU-Z，即可看到显卡核心。</li></ol> <p><img src="https://user-images.githubusercontent.com/16968934/200377738-ce96c52f-d78e-43b8-8e02-922d58260553.png" alt="image">
第一个红框处，即是显卡核心名称。</p> <h4 id="使用现有的-windows-主机"><a href="#使用现有的-windows-主机" class="header-anchor">#</a> 使用现有的 Windows 主机</h4> <ol><li>把显卡插到现有的 Windows 主机上；</li> <li>下载安装 GPU-Z，即可看到显卡核心。</li></ol> <h3 id="买到了-lexa-核心的-rx550-该怎么办"><a href="#买到了-lexa-核心的-rx550-该怎么办" class="header-anchor">#</a> 买到了 Lexa 核心的 Rx550，该怎么办？</h3> <p>参考这个教程，仿冒 ID 即可：</p> <p><a href="https://www.bilibili.com/read/cv15800495" target="_blank" rel="noopener noreferrer">【黑苹果】通过仿冒ID驱动Lexa核心的Radeon RX 550<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_12-代处理器如何开启小核心支持"><a href="#_12-代处理器如何开启小核心支持" class="header-anchor">#</a> 12 代处理器如何开启小核心支持？</h3> <p>如果你是在别人的 EFI 文件基础上修改，并且别人的 EFI 文件基于 12 代 i3 或者 i5 处理器，而你的处理器是 12 代 i7 及以上，则需要开启小核心支持，查阅：</p> <p><a href="https://blog.csdn.net/Z17362251225/article/details/125412246" target="_blank" rel="noopener noreferrer">黑苹果开启十二代酷睿能效核心的驱动_豆豆本豆儿的博客-CSDN博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="装机单"><a href="#装机单" class="header-anchor">#</a> 装机单</h2> <blockquote><p>价格可能略有浮动。</p></blockquote> <blockquote><p>M1 Max 和 M1 Pro 性能几乎一致，不作区分。</p></blockquote> <h3 id="m1-mac-mini-同等性能-3155-元-32gb-512gb-ssd"><a href="#m1-mac-mini-同等性能-3155-元-32gb-512gb-ssd" class="header-anchor">#</a> M1 Mac Mini 同等性能（3155 元，32GB + 512GB SSD）</h3> <table><thead><tr><th>部件</th> <th>产品</th> <th>价格</th> <th>备注</th></tr></thead> <tbody><tr><td>CPU</td> <td>Intel i3 12100f 散片</td> <td>668</td> <td></td></tr> <tr><td>主板</td> <td>铭瑄 h610itx 挑战者</td> <td>568</td> <td></td></tr> <tr><td>内存条</td> <td>酷兽夜枭 16GB 3200Mhz 两根共 32GB</td> <td>470</td> <td>京东自营即可</td></tr> <tr><td>硬盘</td> <td>光威弈 Pro 512GB nvme ssd</td> <td>295</td> <td>按自己喜好选即可</td></tr> <tr><td>散热器</td> <td>利民 Axp90 x47 + LGA17xx 扣具</td> <td>139</td> <td>不用太强力的散热器，随便压一压</td></tr> <tr><td>机箱</td> <td>傻瓜超人 K39 + 定制显卡延长线</td> <td>200</td> <td>一定要买定制显卡延长线</td></tr> <tr><td>电源</td> <td>益衡 7030B 300W Flex 1U 电源</td> <td>398</td> <td>记得买全模组定制版本</td></tr> <tr><td>显卡</td> <td>盈通 Rx550 4GB</td> <td>299</td> <td>淘宝二手，记得询问客服是否是 Polaris 核心</td></tr> <tr><td>网卡</td> <td>博通 BCM94360CS2 + m2 ngff 正向转接卡</td> <td>118</td> <td>记得买外置天线</td></tr></tbody></table> <h3 id="m1-max-mac-studio-同等性能-3537-元-32gb-512gb-ssd"><a href="#m1-max-mac-studio-同等性能-3537-元-32gb-512gb-ssd" class="header-anchor">#</a> M1 Max Mac Studio 同等性能（3537 元，32GB + 512GB SSD）</h3> <table><thead><tr><th>部件</th> <th>产品</th> <th>价格</th> <th>备注</th></tr></thead> <tbody><tr><td>CPU</td> <td>Intel i5 12400f 散片</td> <td>1050</td> <td></td></tr> <tr><td>主板</td> <td>铭瑄 h610itx 挑战者</td> <td>568</td> <td></td></tr> <tr><td>内存条</td> <td>酷兽夜枭 16GB 3200Mhz 两根共 32GB</td> <td>470</td> <td>京东自营即可</td></tr> <tr><td>硬盘</td> <td>光威弈 Pro 512GB nvme ssd</td> <td>295</td> <td>按自己喜好选即可</td></tr> <tr><td>散热器</td> <td>利民 Axp90 x47 + LGA17xx 扣具</td> <td>139</td> <td>不用太强力的散热器，随便压一压</td></tr> <tr><td>机箱</td> <td>傻瓜超人 K39 + 定制显卡延长线</td> <td>200</td> <td>一定要买定制显卡延长线</td></tr> <tr><td>电源</td> <td>益衡 7030B 300W Flex 1U 电源</td> <td>398</td> <td>记得买全模组定制版本</td></tr> <tr><td>显卡</td> <td>盈通 Rx550 4GB</td> <td>299</td> <td>淘宝二手，记得询问客服是否是 Polaris 核心</td></tr> <tr><td>网卡</td> <td>博通 BCM94360CS2 + m2 ngff 正向转接卡</td> <td>118</td> <td>记得买外置天线</td></tr></tbody></table> <h3 id="m1-ultra-mac-studio-同等性能-5159-元-64gb-1tb-ssd"><a href="#m1-ultra-mac-studio-同等性能-5159-元-64gb-1tb-ssd" class="header-anchor">#</a> M1 Ultra Mac Studio 同等性能（5159 元，64GB + 1TB SSD）</h3> <table><thead><tr><th>部件</th> <th>产品</th> <th>价格</th> <th>备注</th></tr></thead> <tbody><tr><td>CPU</td> <td>Intel i7 12700f 散片</td> <td>2110</td> <td>淘宝找个人多的店买就行</td></tr> <tr><td>主板</td> <td>铭瑄 h610itx 挑战者</td> <td>568</td> <td>官方旗舰店</td></tr> <tr><td>内存条</td> <td>酷兽夜枭 32GB 3200Mhz 两根共 64GB</td> <td>798</td> <td>京东自营即可</td></tr> <tr><td>硬盘</td> <td>光威弈 Pro 1TB nvme ssd</td> <td>499</td> <td>如果不需要 1TB，可以换成 512GB，酌情购买</td></tr> <tr><td>散热器</td> <td>利民 Axp90 x53 + LGA17xx 扣具</td> <td>169</td> <td>买 53mm 版本，记得买 17xx 扣具</td></tr> <tr><td>机箱</td> <td>傻瓜超人 K39 + 定制显卡延长线</td> <td>200</td> <td>一定要买定制显卡延长线</td></tr> <tr><td>电源</td> <td>益衡 7030B 300W Flex 1U 电源</td> <td>398</td> <td>记得买全模组定制版本</td></tr> <tr><td>显卡</td> <td>盈通 Rx550 4GB</td> <td>299</td> <td>淘宝二手，记得询问客服是否是 Polaris 核心</td></tr> <tr><td>网卡</td> <td>博通 BCM94360CS2 + m2 ngff 转接卡</td> <td>118</td> <td>记得买 ngff 转接卡，带外置天线版本</td></tr></tbody></table></div></div> <!----></div> <div class="footer" data-v-3ef679b5><div class="footer-content page" data-v-3ef679b5><div class="left" data-v-3ef679b5><div class="footer-title" data-v-3ef679b5>FRIEND LINKS</div> <div class="links footer-text" data-v-3ef679b5></div> <div class="footer-text" data-v-3ef679b5><span id="busuanzi_container_site_pv" class="footer-count" data-v-3ef679b5><span id="busuanzi_value_site_pv" data-v-3ef679b5></span> <span id="busuanzi_value_site_uv" data-v-3ef679b5></span></span> <div class="counter" data-v-3ef679b5><div class="counter-title" data-v-3ef679b5>PAGE VIEWS</div> <div class="counter-content" data-v-3ef679b5><span class="counter-number" data-v-3ef679b5>0</span><span class="counter-number" data-v-3ef679b5>0</span><span class="counter-number" data-v-3ef679b5>0</span><span class="counter-number" data-v-3ef679b5>0</span><span class="counter-number" data-v-3ef679b5>0</span></div></div> <div class="counter" data-v-3ef679b5><div class="counter-title" data-v-3ef679b5>USER VIEWS</div> <div class="counter-content" data-v-3ef679b5><span class="counter-number" data-v-3ef679b5>0</span><span class="counter-number" data-v-3ef679b5>0</span><span class="counter-number" data-v-3ef679b5>0</span><span class="counter-number" data-v-3ef679b5>0</span><span class="counter-number" data-v-3ef679b5>0</span></div></div></div> </div> <div class="right" data-v-3ef679b5><div class="footer-title power" data-v-3ef679b5>POWERED BY</div> <a href="https://github.com/Yidadaa/Issue-Blog-With-Github-Action" class="logo" data-v-3ef679b5>ISSUE BLOG</a></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5abd99d6.js" defer></script><script src="/assets/js/11.05d3e33d.js" defer></script><script src="/assets/js/4.75c217d6.js" defer></script><script src="/assets/js/8.cabf8971.js" defer></script><script src="/assets/js/38.4cc6e044.js" defer></script><script src="/assets/js/3.62f894e9.js" defer></script>
  </body>
</html>
