<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Xavier 配置记录 | YiFei Zhang 的个人网站</title>
    <meta name="description" content="在这里了解我的一切，Have Fun!">
    <link rel="stylesheet" href="https://cdn.bootcss.com/prism/9000.0.1/themes/prism.min.css">
  <link rel="stylesheet" href="https://cdn.bootcss.com/KaTeX/0.5.1/katex.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.ae077696.css" as="style"><link rel="preload" href="/assets/js/app.ce1f4e12.js" as="script"><link rel="preload" href="/assets/js/8.9cbf535b.js" as="script"><link rel="preload" href="/assets/js/6.8b907213.js" as="script"><link rel="preload" href="/assets/js/30.adff085c.js" as="script"><link rel="preload" href="/assets/js/5.043707cc.js" as="script"><link rel="prefetch" href="/assets/js/10.a5176655.js"><link rel="prefetch" href="/assets/js/11.4afb1bcd.js"><link rel="prefetch" href="/assets/js/12.bd062d97.js"><link rel="prefetch" href="/assets/js/13.7b0dd9c9.js"><link rel="prefetch" href="/assets/js/14.275e0708.js"><link rel="prefetch" href="/assets/js/15.95b55a67.js"><link rel="prefetch" href="/assets/js/16.6fa177b7.js"><link rel="prefetch" href="/assets/js/17.764956e0.js"><link rel="prefetch" href="/assets/js/18.929e9c02.js"><link rel="prefetch" href="/assets/js/19.e4b14cb5.js"><link rel="prefetch" href="/assets/js/2.8d3836fd.js"><link rel="prefetch" href="/assets/js/20.4632b9f8.js"><link rel="prefetch" href="/assets/js/21.09133253.js"><link rel="prefetch" href="/assets/js/22.133f7f5b.js"><link rel="prefetch" href="/assets/js/23.8c069928.js"><link rel="prefetch" href="/assets/js/24.2c7b60cf.js"><link rel="prefetch" href="/assets/js/25.dd05b4f6.js"><link rel="prefetch" href="/assets/js/26.d1f8523c.js"><link rel="prefetch" href="/assets/js/27.c6207fe8.js"><link rel="prefetch" href="/assets/js/28.3b98680f.js"><link rel="prefetch" href="/assets/js/29.53fff2f1.js"><link rel="prefetch" href="/assets/js/3.22f3af19.js"><link rel="prefetch" href="/assets/js/31.5ee31d59.js"><link rel="prefetch" href="/assets/js/4.83b96d3b.js"><link rel="prefetch" href="/assets/js/7.e294d982.js"><link rel="prefetch" href="/assets/js/9.446e542e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ae077696.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="header-wrap" data-v-d3b44178><div class="header page" data-v-d3b44178><div class="left" data-v-d3b44178><div class="motto" data-v-d3b44178><div class="line" data-v-d3b44178>暮春早夏的月亮</div> <div class="line" data-v-d3b44178>原是情人的月亮，不比秋冬是诗人的月亮</div></div> <div class="nav" data-v-d3b44178><a href="/" class="nav-item" data-v-d3b44178>首页</a><a href="https://github.com/Yidadaa" class="nav-item" data-v-d3b44178>Github</a></div></div> <div class="right search" data-v-d3b44178><input type="text" placeholder="搜索" class="search-bar" data-v-d3b44178></div></div></div> <div class="page post-page"><div class="title"><div class="post-title">Xavier 配置记录</div></div> <div class="info"><div class="author"></div> <div class="date"></div></div> <div class="post-content"><div class="content__default"><h1 id="xavier-配置记录"><a href="#xavier-配置记录" class="header-anchor">#</a> Xavier 配置记录</h1> <blockquote><p><code>@author: folezhang</code></p></blockquote> <h2 id="构建工具及依赖项"><a href="#构建工具及依赖项" class="header-anchor">#</a> 构建工具及依赖项</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># catkin</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y python-catkin-tools

<span class="token comment"># glog</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y libgoogle-glog-dev

<span class="token comment"># gflags</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y libgflags-dev

<span class="token comment"># zlib</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y zlib1g

<span class="token comment"># qt5.0+</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y qtcreator qt5-default

<span class="token comment"># ffmpeg</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y ffmpeg

<span class="token comment"># Pangolin</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y libgl1-mesa-dev
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y libglew-dev
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> -y cmake
<span class="token function">git</span> clone https://github.com/stevenlovegrove/Pangolin.git
<span class="token builtin class-name">cd</span> Pangolin
<span class="token function">mkdir</span> build
<span class="token builtin class-name">cd</span> build
cmake <span class="token punctuation">..</span>
cmake --build <span class="token builtin class-name">.</span>

<span class="token comment"># ceres</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y cmake
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y libgoogle-glog-dev
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y libatlas-base-dev
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y libeigen3-dev
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y libsuitesparse-dev
<span class="token function">git</span> clone https://ceres-solver.googlesource.com/ceres-solver
<span class="token builtin class-name">cd</span> ceres-solver <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> build
<span class="token builtin class-name">cd</span> build <span class="token operator">&amp;&amp;</span> camke <span class="token punctuation">..</span>
<span class="token function">make</span> -j4 <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><h2 id="硬件驱动"><a href="#硬件驱动" class="header-anchor">#</a> 硬件驱动</h2> <h3 id="realsense"><a href="#realsense" class="header-anchor">#</a> RealSense</h3> <p>驱动安装参考链接：<a href="https://github.com/IntelRealSense/librealsense/blob/master/doc/installation_jetson.md" target="_blank" rel="noopener noreferrer">librealsense installation jetson<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 安装命令</span>
<span class="token function">sudo</span> apt-key adv --keyserver keys.gnupg.net --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDE <span class="token operator">||</span> <span class="token function">sudo</span> apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDE
<span class="token function">sudo</span> add-apt-repository <span class="token string">&quot;deb http://realsense-hw-public.s3.amazonaws.com/Debian/apt-repo bionic main&quot;</span> -u
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y librealsense2-utils
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y librealsense2-dev
</code></pre></div><p>验证状态：成功。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 验证指令</span>
realsense-viewer
</code></pre></div><h3 id="realsense-ros"><a href="#realsense-ros" class="header-anchor">#</a> RealSense ros</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 1. 依赖项</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ros-melodic-ddynamic-reconfigure

<span class="token comment"># 2. 下载源码并使用 catkin 编译</span>
<span class="token function">git</span> clone https://github.com/IntelRealSense/realsense-ros.git
</code></pre></div><p>验证状态：成功。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 验证指令</span>
roslaunch realsense2_camera rs_camera.launch
</code></pre></div><h3 id="kinect-仅支持一代和二代"><a href="#kinect-仅支持一代和二代" class="header-anchor">#</a> Kinect [仅支持一代和二代]</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 参考链接：https://www.ncnynl.com/archives/201912/3484.html</span>
<span class="token comment"># libfreenect2 安装：https://github.com/OpenKinect/libfreenect2/blob/master/README.md#linux</span>
<span class="token function">git</span> clone https://github.com/OpenKinect/libfreenect2
<span class="token builtin class-name">cd</span> libfreenect2

<span class="token comment"># 下载并安装依赖</span>
<span class="token builtin class-name">cd</span> depends
./download_debs_trusty.sh
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> build-essential cmake pkg-config
<span class="token function">sudo</span> dpkg -i debs/libusb*deb
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libturbojpeg libjpeg-turbo8-dev
<span class="token function">sudo</span> dpkg -i debs/libglfw3*deb

<span class="token comment"># 编译</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token function">mkdir</span> build <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> build
cmake <span class="token punctuation">..</span> -DCMAKE_INSTALL_PREFIX<span class="token operator">=</span><span class="token environment constant">$HOME</span>/freenect2  -DENABLE_CXX11<span class="token operator">=</span>ON
<span class="token function">make</span> -j4
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>

<span class="token comment"># 配置 usb 权限</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token function">sudo</span> <span class="token function">cp</span> platform/linux/udev/90-kinect2.rules /etc/udev/rules.d/
<span class="token builtin class-name">echo</span> <span class="token string">&quot;安装完成，请重启 xavier 后验证&quot;</span>
</code></pre></div><ol><li>如果出现 <code>libGL.so</code> 错误，请按以下步骤安装 <code>libglvnd</code> 并修复链接:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 参考链接：https://devtalk.nvidia.com/default/topic/1044109/jetson-agx-xavier/no-usr-lib-aarch64-linux-gnu-tegra-libgl-so-0-with-jetpack-4-4-1/</span>
<span class="token comment"># 依赖</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libxext-dev libx11-dev x11proto-gl-dev
<span class="token function">git</span> clone https://github.com/NVIDIA/libglvnd.git
<span class="token builtin class-name">cd</span> libglvnd
<span class="token function">sh</span> ./autogen.sh
./configure
<span class="token function">make</span> -j4
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token comment"># 默认安装路径为 /usr/local/lib/aarch64-linux-gnu/libGL.so</span>
<span class="token comment"># 然后删除掉原来的 libGL.so，重新建立链接</span>
<span class="token comment"># rm /usr/lib/aarch64-linux-gnu/libGL.so</span>
<span class="token comment"># ln -s /usr/local/lib/aarch64-linux-gnu/libGL.so /usr/lib/aarch64-linux-gnu/libGL.so</span>
</code></pre></div><p>验证状态：该驱动仅适用于 kinect 一代和二代，不支持 kinect for azure 。</p> <p>说明：kinect for xavier 目前不支持 arm 平台，官方计划在近期加入，进度见：<code>https://github.com/microsoft/Azure-Kinect-Sensor-SDK/issues/871</code></p> <h3 id="velodyne"><a href="#velodyne" class="header-anchor">#</a> Velodyne</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 下载源码并用 catkin build 编译即可</span>
<span class="token function">git</span> clone https://github.com/ros-drivers/velodyne.git
</code></pre></div><ol><li>报错 <code>fatal error: pcap.h: No such file or directory</code>，需要安装 <code>pcap</code> 依赖库：<code>sudo apt install libpcap-dev</code></li></ol> <p>验证状态：成功。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 验证指令</span>
roslaunch velodyne_pointcloud laserscan_nodelet.launch
</code></pre></div><h2 id="系统"><a href="#系统" class="header-anchor">#</a> 系统</h2> <h3 id="orb-slam-2"><a href="#orb-slam-2" class="header-anchor">#</a> ORB SLAM 2</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 1. 依赖库</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y libeigen3-dev

<span class="token comment"># 2. 下载源码</span>
<span class="token function">git</span> clone https://github.com/raulmur/ORB_SLAM2.git

<span class="token comment"># 3. 编译</span>
<span class="token builtin class-name">cd</span> ORB_SLAM2
<span class="token function">chmod</span> +x build.sh
./build.sh
</code></pre></div><ol><li><p>编译时缺少 <code>Pangolin</code>，从<a href="https://github.com/stevenlovegrove/Pangolin" target="_blank" rel="noopener noreferrer">源码<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>编译安装 <code>Pangolin</code> 即可，安装脚本见前文。</p></li> <li><p><code>usleep</code> 语句报错，参考这条 <a href="https://github.com/raulmur/ORB_SLAM2/issues/337" target="_blank" rel="noopener noreferrer">issue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 解决，为 <code>include/System.h</code> 添加 <code>include &lt;unistd.h&gt;</code> 头文件即可。</p></li></ol> <h3 id="vins-fusion"><a href="#vins-fusion" class="header-anchor">#</a> VINS Fusion</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 1. 下载源码</span>
<span class="token function">git</span> clone https://github.com/HKUST-Aerial-Robotics/VINS-Fusion

<span class="token comment"># 2. 编译安装</span>
<span class="token function">mkdir</span> -p ~/vins-workspace/src
<span class="token function">mv</span> VINS-Fusion ~/vins-workspace/src
<span class="token builtin class-name">cd</span> ~/vins-workspace
catkin build
<span class="token builtin class-name">echo</span> <span class="token string">'source ~/vins-workspace/devel/setup.bash'</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
<span class="token builtin class-name">source</span> ~/.bashrc
</code></pre></div><ol><li>提示缺少 <code>ceres</code>，从源码编译安装即可，安装脚本见前文。</li></ol> <p>验证状态：成功。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 验证指令</span>
roslaunch vins vins_rviz.launch
</code></pre></div><h3 id="elastic-fusion"><a href="#elastic-fusion" class="header-anchor">#</a> Elastic Fusion</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 安装依赖</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y cmake-qt-gui <span class="token function">git</span> build-essential libusb-1.0-0-dev libudev-dev freeglut3-dev libglew-dev libsuitesparse-dev libeigen3-dev zlib1g-dev libjpeg-dev openjdk-8-jdk

<span class="token comment"># 安装 OpenNI2: https://github.com/occipital/OpenNI2</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> g++ libusb-1.0-0-dev libudev-dev freeglut3-dev doxygen graphviz
<span class="token builtin class-name">cd</span> ~
<span class="token function">git</span> clone https://github.com/mikeh9/OpenNI2-TX1.git
<span class="token builtin class-name">cd</span> OpenNI2-TX1/OpenNI2
<span class="token function">make</span> -j4

<span class="token comment"># 安装 Elastic Fusion</span>
<span class="token function">git</span> clone https://github.com/mp3guy/ElasticFusion.git

<span class="token builtin class-name">cd</span> ElasticFusion
<span class="token comment"># 修复 cmake 文件，自带的 cmake 无法正确找到 suite sparse 库</span>
<span class="token function">curl</span> https://raw.githubusercontent.com/ceres-solver/ceres-solver/master/cmake/FindSuiteSparse.cmake <span class="token operator">&gt;</span> ./Core/src/FindSuiteSparse.cmake
<span class="token function">cp</span> ./Core/src/FindSuiteSparse.cmake ./GPUTest/src
<span class="token function">cp</span> ./Core/src/FindSuiteSparse.cmake ./GUI/src

<span class="token comment"># 删除 msse 指令优化，arm 平台无法应用此优化</span>
<span class="token function">sed</span> -i -e <span class="token string">'s/\-msse2\ \-msse3\ //g'</span> ./Core/src/CMakeLists.txt
<span class="token function">sed</span> -i -e <span class="token string">'s/\-msse2\ \-msse3\ //g'</span> ./GPUTest/src/CMakeLists.txt
<span class="token function">sed</span> -i -e <span class="token string">'s/\-msse2\ \-msse3\ //g'</span> ./GUI/src/CMakeLists.txt

<span class="token comment"># 修复 CMakeList.txt 错误</span>
<span class="token function">sed</span> -i <span class="token string">'4 a set(CMAKE_MODULE_PATH <span class="token variable">${CMAKE_MODULE_PATH}</span> &quot;<span class="token variable">${CMAKE_CURRENT_SOURCE_DIR}</span>&quot;)'</span> ./GPUTest/src/CMakeLists.txt
<span class="token function">sed</span> -i <span class="token string">'8 a find_package(SuiteSparse REQUIRED)'</span> ./GPUTest/src/CMakeLists.txt
<span class="token function">sed</span> -i -e <span class="token string">'s/\/usr\/include\/suitesparse\//<span class="token variable">${SUITESPARSE_INCLUDE_DIRS}</span>)/g'</span> ./GPUTest/src/CMakeLists.txt

<span class="token builtin class-name">cd</span> ./Core
<span class="token function">mkdir</span> build
<span class="token builtin class-name">cd</span> build
cmake <span class="token punctuation">..</span>/src
<span class="token function">make</span> -j8
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/GPUTest
<span class="token function">mkdir</span> build
<span class="token builtin class-name">cd</span> build
cmake <span class="token punctuation">..</span>/src
<span class="token function">make</span> -j8
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/GUI
<span class="token function">mkdir</span> build
<span class="token builtin class-name">cd</span> build
cmake <span class="token punctuation">..</span>/src
<span class="token function">make</span> -j8
</code></pre></div><ol><li>如果运行时报错：<code>0:19(10): error: GLSL 3.30 is not supported. Supported versions are: 1.10, 1.20, 1.30, 1.40, 1.00 ES, and 3.00 ES</code>，在命令行中加入 <code>export MESA_GL_VERSION_OVERRIDE=3.3</code>。</li> <li>如果运行时报错：<code>Error: invalid texture reference:</code>，参考这条 <a href="https://github.com/mp3guy/ElasticFusion/issues/193" target="_blank" rel="noopener noreferrer">issue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 解决。</li></ol> <p>验证状态：成功。</p> <h3 id="surfelmeshing"><a href="#surfelmeshing" class="header-anchor">#</a> surfelmeshing</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/puzzlepaint/surfelmeshing.git
<span class="token comment"># 删除 msse 优化</span>
<span class="token builtin class-name">cd</span> surfelmeshing
<span class="token function">sed</span> -i <span class="token string">'/msse/d'</span> CMakeLists.txt
<span class="token function">mkdir</span> build
<span class="token builtin class-name">cd</span> build
cmake -DCMAKE_BUILD_TYPE<span class="token operator">=</span>RelWithDebInfo -DCMAKE_CUDA_FLAGS<span class="token operator">=</span><span class="token string">&quot;-arch=sm_61&quot;</span> <span class="token punctuation">..</span>
<span class="token function">make</span> -j4
</code></pre></div><p>验证状态：存在兼容性问题，GLEW 引用出错。</p> <h3 id="libvisensor"><a href="#libvisensor" class="header-anchor">#</a> libvisensor</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 依赖项</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libeigen3-dev libboost-dev

<span class="token comment"># 源码安装</span>
<span class="token function">mkdir</span> -p ~/visensor-workspace/src
<span class="token builtin class-name">cd</span> ~/visensor-workspace/src
<span class="token function">git</span> clone https://github.com/ethz-asl/libvisensor.git
<span class="token builtin class-name">cd</span> ~/visensor-workspace
catkin build

<span class="token comment"># 安装为全局依赖，方便 ok_vis 使用</span>
<span class="token builtin class-name">cd</span> ~/visensor-workspace/src/libvisensor
<span class="token function">sh</span> ./install_libvisensor.sh
</code></pre></div><p>验证状态：编译成功。</p> <h3 id="ok-vis-ros"><a href="#ok-vis-ros" class="header-anchor">#</a> ok_vis ros</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 依赖项</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> ros-melodic-pcl-ros libgoogle-glog-dev
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libatlas-base-dev libeigen3-dev libsuitesparse-dev
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libopencv-dev libboost-dev libboost-filesystem-dev

<span class="token comment"># 源码安装</span>
<span class="token function">mkdir</span> -p ~/okvis-workspace/src
<span class="token builtin class-name">cd</span> ~/okvis-workspace/src
<span class="token function">git</span> clone https://github.com/ethz-asl/okvis_ros.git
<span class="token builtin class-name">cd</span> okvis_ros
<span class="token function">git</span> clone https://github.com/gwli/okvis.git <span class="token comment"># 官方版本不支持 arm64 架构，使用别人修改的版本</span>
<span class="token builtin class-name">cd</span> ~/okvis-workspace
catkin build
</code></pre></div><p>验证状态：代码无法编译通过，存在语法问题。</p> <ol><li>如果报错 <code>libvisensor not found</code>，请先按照前文脚本安装 <code>libvisensor</code>。</li></ol></div></div> <!----></div> <div class="footer" data-v-610ecb74><div class="footer-content page" data-v-610ecb74>
    Copyright 2020
  </div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ce1f4e12.js" defer></script><script src="/assets/js/8.9cbf535b.js" defer></script><script src="/assets/js/6.8b907213.js" defer></script><script src="/assets/js/30.adff085c.js" defer></script><script src="/assets/js/5.043707cc.js" defer></script>
  </body>
</html>
