<!doctype html>
<html data-n-head-ssr>
  <head>
    <meta data-n-head="ssr" name="referrer" content="no-referrer-when-downgrade"><meta data-n-head="ssr" name="viewport" content="width=device-width,height=device-height,initial-scale=1,minimum-scale=1"><title>花式遍历二叉树</title><base href="/"><link data-n-head="ssr" rel="icon" type="image/png" href="https://avatars2.githubusercontent.com/u/16968934?s=460&v=4"><link data-n-head="ssr" rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link data-n-head="ssr" rel="stylesheet" href="//cdn.jsdelivr.net/npm/highlight.js@10.5.0/styles/github.css"><link rel="preload" href="/_nuxt/f4057b1.js" as="script"><link rel="preload" href="/_nuxt/999366d.js" as="script"><link rel="preload" href="/_nuxt/8affbdb.js" as="script"><link rel="preload" href="/_nuxt/b48aaed.js" as="script"><link rel="preload" href="/_nuxt/24f6f2a.js" as="script"><style data-vue-ssr-id="fc63198e:0 7d750fca:0 757d9178:0 40260e80:0">.nuxt-progress{background-color:#000;height:2px;left:0;opacity:1;position:fixed;right:0;top:0;transition:width .1s,opacity .4s;width:0;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}.clearfix:after,.vssue .vssue-new-comment .vssue-new-comment-footer:after{clear:both;content:"";display:block}.vssue{color:#2c3e50;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;padding:10px;width:100%}.vssue .vssue-button{background-color:transparent;border:2px solid #900;border-radius:10px;color:#900;cursor:pointer;font-size:1.05;font-weight:700;outline:0;padding:10px 20px}.vssue .vssue-button:disabled{border-color:#eaecef;color:#eaecef;cursor:not-allowed}.vssue .vssue-button:disabled .vssue-icon{fill:#eaecef}.vssue .vssue-button:not(:disabled).vssue-button-default{border-color:#a3aab1;color:#a3aab1}.vssue .vssue-button:not(:disabled).vssue-button-primary{border-color:#900;color:#900}.vssue .vssue-icon{fill:#900;height:1em;overflow:hidden;vertical-align:-.15em;width:1em}.vssue .vssue-icon-loading{animation:vssue-keyframe-rotation 1s linear infinite}@keyframes vssue-keyframe-rotation{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.vssue .fade-appear-active,.vssue .fade-enter-active{transition:all .3s ease}.vssue .fade-leave-active{transition:all .3s cubic-bezier(1,.5,.8,1)}.vssue .fade-appear,.vssue .fade-enter,.vssue .fade-leave-to{opacity:0}.vssue .vssue-notice{position:relative;transform:translateY(-11px);z-index:100}.vssue .vssue-notice .vssue-alert{background-color:#ffeded;border:2px solid #ff9494;border-radius:5px;color:#900;cursor:pointer;padding:10px 20px;position:absolute;top:0;width:100%;z-index:101}.vssue .vssue-notice .vssue-progress{background-color:#900;height:2px;left:0;position:absolute;top:0}.vssue .vssue-status{color:#900;padding-bottom:10px;padding-top:20px;text-align:center}.vssue .vssue-status .vssue-icon{font-size:1.4em}.vssue .vssue-status .vssue-status-info{margin-bottom:10px;margin-top:10px}.vssue .vssue-header{border-bottom:1px solid #eaecef;margin-bottom:10px;overflow:hidden;padding-bottom:10px}.vssue .vssue-header .vssue-header-powered-by{float:right}.vssue .vssue-new-comment{border-bottom:1px solid #eaecef;margin-bottom:10px;margin-top:10px}.vssue .vssue-new-comment .vssue-comment-avatar{float:left;height:50px;width:50px}.vssue .vssue-new-comment .vssue-comment-avatar img{height:50px;width:50px}.vssue .vssue-new-comment .vssue-comment-avatar .vssue-icon{fill:#757f8a;cursor:pointer;font-size:50px;padding:5px}.vssue .vssue-new-comment .vssue-new-comment-body{position:relative}@media screen and (max-width:576px){.vssue .vssue-new-comment .vssue-new-comment-body{margin-left:60px}}@media screen and (min-width:577px){.vssue .vssue-new-comment .vssue-new-comment-body{margin-left:70px}}.vssue .vssue-new-comment .vssue-new-comment-body .vssue-new-comment-loading{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.vssue .vssue-new-comment .vssue-new-comment-footer{margin-bottom:10px;margin-top:10px}.vssue .vssue-new-comment .vssue-new-comment-footer .vssue-current-user{color:#a3aab1}.vssue .vssue-new-comment .vssue-new-comment-footer .vssue-current-user .vssue-logout{color:#a3aab1;cursor:pointer;font-weight:400;-webkit-text-decoration:underline;text-decoration:underline}@media screen and (max-width:576px){.vssue .vssue-new-comment .vssue-new-comment-footer{text-align:center}.vssue .vssue-new-comment .vssue-new-comment-footer .vssue-new-comment-operations{margin-top:10px}}@media screen and (min-width:577px){.vssue .vssue-new-comment .vssue-new-comment-footer{margin-left:70px;text-align:right}.vssue .vssue-new-comment .vssue-new-comment-footer .vssue-current-user{float:left}}.vssue .vssue-new-comment .vssue-new-comment-input{background-color:#ffeded;border:1px solid #eaecef;border-radius:5px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;outline:0;padding:15px;resize:none;width:100%}.vssue .vssue-new-comment .vssue-new-comment-input:disabled{background-color:#f0f2f4;cursor:not-allowed}.vssue .vssue-new-comment .vssue-new-comment-input:focus{background-color:#fff;border-color:#ff4d4d;box-shadow:0 0 1px 1px #ff4d4d}.vssue .vssue-new-comment .vssue-new-comment-input::-moz-placeholder{color:#a3aab1}.vssue .vssue-new-comment .vssue-new-comment-input::placeholder{color:#a3aab1}.vssue .vssue-comments .vssue-comment{margin:15px 0}.vssue .vssue-comments .vssue-comment.vssue-comment-edit-mode .vssue-comment-main{border-color:#ff4d4d;box-shadow:0 0 1px 1px #ff4d4d}.vssue .vssue-comments .vssue-comment.vssue-comment-disabled{pointer-events:none}.vssue .vssue-comments .vssue-comment.vssue-comment-disabled .vssue-comment-body{background-color:#f9f9fa}.vssue .vssue-comments .vssue-comment .vssue-comment-avatar{float:left;height:50px;width:50px}.vssue .vssue-comments .vssue-comment .vssue-comment-avatar img{height:50px;width:50px}@media screen and (max-width:576px){.vssue .vssue-comments .vssue-comment .vssue-comment-body{margin-left:60px}}@media screen and (min-width:577px){.vssue .vssue-comments .vssue-comment .vssue-comment-body{margin-left:70px}}.vssue .vssue-comments .vssue-comment .vssue-comment-header{border:1px solid #eaecef;border-bottom:none;border-top-left-radius:5px;border-top-right-radius:5px;overflow:hidden;padding:10px 15px}.vssue .vssue-comments .vssue-comment .vssue-comment-header .vssue-comment-created-at{color:#a3aab1;cursor:default;float:right}.vssue .vssue-comments .vssue-comment .vssue-comment-main{border:1px solid #eaecef;padding:15px}.vssue .vssue-comments .vssue-comment .vssue-comment-main .vssue-edit-comment-input{background:0 0;border:none;outline:0;resize:none;width:100%}.vssue .vssue-comments .vssue-comment .vssue-comment-footer{border:1px solid #eaecef;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top:none;overflow:hidden;padding:10px 15px}.vssue .vssue-comments .vssue-comment .vssue-comment-footer .vssue-comment-hint{color:#a3aab1;cursor:default}.vssue .vssue-comments .vssue-comment .vssue-comment-footer .vssue-comment-reactions .vssue-comment-reaction{color:#900;cursor:pointer;display:inline-block;margin-right:8px}.vssue .vssue-comments .vssue-comment .vssue-comment-footer .vssue-comment-operations{color:#900;float:right}.vssue .vssue-comments .vssue-comment .vssue-comment-footer .vssue-comment-operations .vssue-comment-operation{cursor:pointer;margin-left:8px}.vssue .vssue-comments .vssue-comment .vssue-comment-footer .vssue-comment-operations .vssue-comment-operation.vssue-comment-operation-muted{color:#a3aab1}.vssue .vssue-comments .vssue-comment .vssue-comment-footer .vssue-comment-operations .vssue-comment-operation.vssue-comment-operation-muted .vssue-icon{fill:#a3aab1}.vssue .vssue-pagination{color:#a3aab1;cursor:default;display:flex;padding:5px}@media screen and (max-width:576px){.vssue .vssue-pagination{flex-direction:column;justify-content:center;text-align:center}}.vssue .vssue-pagination .vssue-pagination-loading,.vssue .vssue-pagination .vssue-pagination-page,.vssue .vssue-pagination .vssue-pagination-per-page{flex:1}@media screen and (max-width:576px){.vssue .vssue-pagination .vssue-pagination-page{margin-top:10px}}@media screen and (min-width:577px){.vssue .vssue-pagination .vssue-pagination-page{text-align:right}}.vssue .vssue-pagination .vssue-pagination-select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg%20class=%27icon%27%20viewBox=%270%200%201024%201024%27%20xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cdefs%3E%3Cstyle/%3E%3C/defs%3E%3Cpath%20d=%27M676.395%20432.896a21.333%2021.333%200%200%200-30.166%200L511.061%20568.021%20377.728%20434.645a21.333%2021.333%200%200%200-30.165%2030.166l148.394%20148.48a21.419%2021.419%200%200%200%2030.208%200l150.23-150.187a21.333%2021.333%200%200%200%200-30.208%27/%3E%3C/svg%3E");background-position:100%;background-repeat:no-repeat;border:1px solid #ff4d4d;outline:0;padding-left:.2rem;padding-right:1rem}.vssue .vssue-pagination .vssue-pagination-select:disabled{cursor:not-allowed}.vssue .vssue-pagination .vssue-pagination-select:focus{background-color:#fff;box-shadow:0 0 .2px .2px #ff4d4d}.vssue .vssue-pagination .vssue-pagination-link{display:inline-block;min-width:1em;text-align:center}.vssue .vssue-pagination .vssue-pagination-link.disabled{pointer-events:none}.vssue .vssue-pagination .vssue-pagination-link:not(.disabled){color:#900;cursor:pointer;font-weight:500}.vssue,.vssue *{box-sizing:border-box}.vssue :not(.vssue-comment-content) a{color:#900;cursor:pointer;font-weight:500;-webkit-text-decoration:none;text-decoration:none}.vssue :not(.vssue-comment-content) hr{border:0;border-top:1px solid #eaecef;display:block;height:1px;margin:1.2rem 0;padding:0}body{font-family:-apple-system,"Noto Sans","Helvetica Neue",Helvetica,"Nimbus Sans L",Arial,"Liberation Sans","PingFang SC","Hiragino Sans GB","Noto Sans CJK SC","Source Han Sans SC","Source Han Sans CN","Microsoft YaHei","Wenquanyi Micro Hei","WenQuanYi Zen Hei","ST Heiti",SimHei,"WenQuanYi Zen Hei Sharp",sans-serif;margin:0;padding:0}.page{box-sizing:border-box;margin:auto;max-width:900px;width:90%}.loading-light{position:relative}.loading-light:after{animation:fly-to-right 2s ease infinite;background-color:#fff;content:"";height:20px;left:-500px;opacity:.4;position:absolute;width:1000px}@keyframes fly-to-right{0%{transform:translateX(0) rotate(45deg)}to{transform:translateX(1000px) rotate(45deg)}}.post-page{margin-bottom:50px}.title{display:flex;justify-content:center}.post-title{color:#333;font-size:30px;font-weight:700;margin-top:120px;max-width:80%;position:relative;text-align:center}.post-title:before{content:"“";left:-60px}.post-title:after,.post-title:before{color:#eee;font-size:55px;position:absolute}.post-title:after{content:"”";right:-60px}.post-content{word-break:break-word}.post-content .katex{font-size:16px}a{color:#900;font-weight:500;-webkit-text-decoration:none;text-decoration:none}p a code{color:#900;font-weight:400}p{font-family:Georgia,"Nimbus Roman No9 L","Songti SC","Noto Serif CJK SC","Source Han Serif SC","Source Han Serif CN",STSong,"AR PL New Sung","AR PL SungtiL GB",NSimSun,SimSun,"TW\-Sung","WenQuanYi Bitmap Song","AR PL UMing CN","AR PL UMing HK","AR PL UMing TW","AR PL UMing TW MBE",PMingLiU,MingLiU,serif}kbd{border:.15rem solid #ddd;border-bottom:.25rem solid #ddd;border-radius:.15rem;padding:0 .15em}blockquote,kbd{background:#eee}blockquote{border-left:.2rem solid #dfe2e5;color:#999;font-size:1rem;margin:1rem 0;padding:5px 10px}blockquote>p{margin:0}.post-content ol,.post-content ul,blockquote>p{font-family:Baskerville,"Times New Roman","Liberation Serif",STFangsong,FangSong,FangSong_GB2312,"CWTEX\-F",serif}.post-content ol,.post-content ul{padding-left:1.2em}strong{font-weight:600}h1,h2,h3,h4,h5,h6{font-family:-apple-system,"Noto Sans","Helvetica Neue",Helvetica,"Nimbus Sans L",Arial,"Liberation Sans","PingFang SC","Hiragino Sans GB","Noto Sans CJK SC","Source Han Sans SC","Source Han Sans CN","Microsoft YaHei","Wenquanyi Micro Hei","WenQuanYi Zen Hei","ST Heiti",SimHei,"WenQuanYi Zen Hei Sharp",sans-serif;font-weight:600;line-height:1.25;margin-top:50px}h1:hover .header-anchor,h2:hover .header-anchor,h3:hover .header-anchor,h4:hover .header-anchor,h5:hover .header-anchor,h6:hover .header-anchor{opacity:1}h1{display:none;font-size:2rem}h2{font-size:1.45rem;padding-bottom:.3rem}h3{font-size:1.35rem}a.header-anchor{color:#ddd;float:left;font-size:.85em;margin-left:-.87em;margin-top:.125em;opacity:0;padding-right:.23em}a.header-anchor:hover{-webkit-text-decoration:none;text-decoration:none}.line-number,code,kbd{font-family:Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif}pre{border:1px solid #aaa;border-radius:5px}pre>code{background:0 0;margin:0;padding:0}code,pre{font-size:14px}code{background:#eee;border-radius:4px;margin:0 2px;padding:2px 4px}ol,p,ul{line-height:1.7}li.task-list-item{display:flex;list-style:none}li.task-list-item input[type^=checkbox]{margin:7px 9px 0 -18px}hr{border:0;border-top:1px solid #eee}table{border-collapse:collapse;display:block;margin:1rem 0;overflow-x:auto}tr{border-top:1px solid #dfe2e5}tr:nth-child(2n){background-color:#f6f8fa}td,th{border:1px solid #dfe2e5;padding:.6em 1em}img{border:1px solid rgba(0,0,0,.1);display:block;margin:auto;max-width:720px;width:100%}@media screen{.info{align-content:center;display:flex;font-family:Baskerville,"Times New Roman","Liberation Serif",STFangsong,FangSong,FangSong_GB2312,"CWTEX\-F",serif;justify-content:center;margin:30px 0 60px}.info .author,.info .count,.info .date{margin:0 7px}}.vssue{font-family:-apple-system,"Noto Sans","Helvetica Neue",Helvetica,"Nimbus Sans L",Arial,"Liberation Sans","PingFang SC","Hiragino Sans GB","Noto Sans CJK SC","Source Han Sans SC","Source Han Sans CN","Microsoft YaHei","Wenquanyi Micro Hei","WenQuanYi Zen Hei","ST Heiti",SimHei,"WenQuanYi Zen Hei Sharp",sans-serif;margin-top:100px;padding:0}.vssue .vssue-header-powered-by,.vssue .vssue-pagination-page,.vssue .vssue-pagination-per-page{display:none}.vssue .vssue-new-comment{border:0}.vssue .vssue-current-user{line-height:2.5}.vssue .vssue-button-submit-comment:not(:disabled):hover{background-color:#eee}.vssue p{font-family:-apple-system,"Noto Sans","Helvetica Neue",Helvetica,"Nimbus Sans L",Arial,"Liberation Sans","PingFang SC","Hiragino Sans GB","Noto Sans CJK SC","Source Han Sans SC","Source Han Sans CN","Microsoft YaHei","Wenquanyi Micro Hei","WenQuanYi Zen Hei","ST Heiti",SimHei,"WenQuanYi Zen Hei Sharp",sans-serif}.vssue .vssue-button-login{border-color:transparent!important}@media screen and (max-width:576px){p{font-family:-apple-system,"Noto Sans","Helvetica Neue",Helvetica,"Nimbus Sans L",Arial,"Liberation Sans","PingFang SC","Hiragino Sans GB","Noto Sans CJK SC","Source Han Sans SC","Source Han Sans CN","Microsoft YaHei","Wenquanyi Micro Hei","WenQuanYi Zen Hei","ST Heiti",SimHei,"WenQuanYi Zen Hei Sharp",sans-serif}.post-title{font-size:26px;max-width:100%;overflow:hidden}.katex-display{overflow-x:scroll;overflow-y:hidden}.info{font-family:-apple-system,"Noto Sans","Helvetica Neue",Helvetica,"Nimbus Sans L",Arial,"Liberation Sans","PingFang SC","Hiragino Sans GB","Noto Sans CJK SC","Source Han Sans SC","Source Han Sans CN","Microsoft YaHei","Wenquanyi Micro Hei","WenQuanYi Zen Hei","ST Heiti",SimHei,"WenQuanYi Zen Hei Sharp",sans-serif;font-size:14px}}@media print{.page{width:100%}.title{font-family:Baskerville,Georgia,"Liberation Serif","Kaiti SC",STKaiti,"AR PL UKai CN","AR PL UKai HK","AR PL UKai TW","AR PL UKai TW MBE","AR PL KaitiM GB",KaiTi,KaiTi_GB2312,DFKai-SB,"TW\-Kai",serif;font-weight:700;margin-top:30%}.post-title:after,.post-title:before{content:""}.info{font-family:Baskerville,Georgia,"Liberation Serif","Kaiti SC",STKaiti,"AR PL UKai CN","AR PL UKai HK","AR PL UKai TW","AR PL UKai TW MBE","AR PL KaitiM GB",KaiTi,KaiTi_GB2312,DFKai-SB,"TW\-Kai",serif;margin-top:40%;page-break-after:always;text-align:center}.info .author{font-size:20px;line-height:2}.count{display:none}code{word-break:break-all}pre{page-break-inside:avoid}.footer,.vssue{display:none}}.header-wrap[data-v-249ad96f]{border-bottom:1px solid rgba(0,0,0,.05)}.header[data-v-249ad96f]{align-items:center;display:flex;justify-content:space-between;padding:20px 0}.header .left .motto[data-v-249ad96f]{color:#000;font-family:Baskerville,Georgia,"Liberation Serif","Kaiti SC",STKaiti,"AR PL UKai CN","AR PL UKai HK","AR PL UKai TW","AR PL UKai TW MBE","AR PL KaitiM GB",KaiTi,KaiTi_GB2312,DFKai-SB,"TW\-Kai",serif;font-size:16px}.header .left .nav[data-v-249ad96f]{color:#900;font-size:16px;margin-top:10px}.header .left .nav a.nav-item[data-v-249ad96f]{color:#900}.header .left .nav a.nav-item[data-v-249ad96f]:not(:last-child):after{content:"/";margin-left:10px;margin-right:10px}.header .left .nav a.nav-item[data-v-249ad96f]:hover{color:#c00}@media print{.nav[data-v-249ad96f],.right[data-v-249ad96f]{display:none}.header-wrap[data-v-249ad96f]{border:0}}@media screen and (max-width:$MQMobile){.header[data-v-249ad96f]{flex-wrap:wrap}.header .left[data-v-249ad96f]{margin-bottom:20px;text-align:center}.left[data-v-249ad96f],.right[data-v-249ad96f]{width:100%}.motto[data-v-249ad96f]{margin-bottom:20px}}.footer[data-v-2c1886a6]{background:#333;color:#fff}.footer .footer-content[data-v-2c1886a6]{color:hsla(0,0%,100%,.6);display:flex;flex-wrap:wrap;justify-content:space-between;padding:20px 0}.footer .footer-content .power[data-v-2c1886a6]{font-style:normal}.footer .footer-content .logo[data-v-2c1886a6]{border:1px dashed #fff;color:#fff;display:inline-block;font-size:16px;margin-bottom:20px;padding:5px 10px}.footer .footer-content .logo[data-v-2c1886a6]:hover{background-color:#fff;color:#000}.footer .footer-content .footer-title[data-v-2c1886a6]{color:#fff;font-size:12px;font-weight:bolder;margin-bottom:5px;text-shadow:1px 1px 1px rgba(0,0,0,.4);transform:scaley(.8)}.footer .footer-content .footer-text[data-v-2c1886a6]{font-size:12px;margin-bottom:20px}.footer .footer-content .footer-count[data-v-2c1886a6]{font-size:12px;font-size:0;opacity:0}.footer .footer-content .links a.link[data-v-2c1886a6]{color:hsla(0,0%,100%,.6);margin-right:10px;-webkit-text-decoration:underline;text-decoration:underline}.footer .footer-content .links a.link[data-v-2c1886a6]:hover{background-color:#fff;color:#000}.counter[data-v-2c1886a6]{margin-bottom:10px}.counter .counter-title[data-v-2c1886a6]{color:#fff;font-size:12px;font-weight:bolder;margin-bottom:5px;text-shadow:1px 1px 1px rgba(0,0,0,.4);transform:scaley(.8)}.counter .counter-content[data-v-2c1886a6]{background:#fff;border-color:#444 #555 #444 rgba(0,0,0,.6);border-radius:2px;border-style:solid;border-width:5px;box-shadow:inset 1px 2px 10px rgba(0,0,0,.6);padding:5px 10px}.counter .counter-content .counter-number[data-v-2c1886a6]{background:#333;border-radius:5px;color:#fff;display:inline-block;margin-right:5px;min-width:10px;padding:3px 5px;position:relative;text-align:center}.counter .counter-content .counter-number[data-v-2c1886a6]:last-child{margin:0}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(3){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(3):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(6){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(6):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(9){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(9):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(12){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(12):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(15){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(15):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(18){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(18):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(21){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(21):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(24){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(24):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(27){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(27):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(30){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(30):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(33){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(33):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(36){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(36):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(39){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(39):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(42){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(42):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(45){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(45):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(48){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(48):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(51){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(51):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(54){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(54):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(57){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(57):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(60){margin-left:10px}.counter .counter-content .counter-number[data-v-2c1886a6]:nth-last-child(60):before{background:#333;border-radius:4px;bottom:7px;content:"";height:4px;left:-8px;position:absolute;width:2px}.counter .counter-content .counter-number[data-v-2c1886a6]:first-child{background-color:#8b0000;margin-left:0}.counter .counter-content .counter-number[data-v-2c1886a6]:first-child:before{display:none}</style><link rel="preload" href="/_nuxt/static/1681440976/posts/26/state.js" as="script"><link rel="preload" href="/_nuxt/static/1681440976/posts/26/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1681440976/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div data-fetch-key="0"><div class="header-wrap" data-v-249ad96f><div class="header page" data-v-249ad96f><div class="left" data-v-249ad96f><div class="motto" data-v-249ad96f><div class="line" data-v-249ad96f>暮春早夏的月亮</div><div class="line" data-v-249ad96f>原是情人的月亮，不比秋冬是诗人的月亮</div></div> <div class="nav" data-v-249ad96f><a href="/" class="nav-item" data-v-249ad96f>首页</a><a href="https://github.com/Yidadaa" class="nav-item" data-v-249ad96f>Github</a><a href="/cv" class="nav-item" data-v-249ad96f>Resume</a></div></div> <div class="right" data-v-249ad96f></div></div></div> <div class="page post-page"><div class="title"><div class="post-title">花式遍历二叉树</div></div> <div class="info"><div class="author">Yidadaa</div> <div class="date">2020/02/27</div> <div class="count"><span id="busuanzi_value_page_pv"></span> <span>views</span></div></div> <div class="post-content"><blockquote>
<p>众所周知，递归是解决问题的良药，但是却不利于装逼，今天教你如何在最简单的问题上装逼。</p>
</blockquote>
<p>一般来说，基本所有的二叉树的题目都需要遍历树的每一个节点来找到解，在本科阶段学习数据结构时，所有的教材都会教给我们如何使用递归来执行各种遍历，诚然，递归形式的遍历不可谓不简洁：</p>
<pre class="hljs"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span>():</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, val, left, right</span>):</span>
    self.val = val
    self.left = left
    self.right = right

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">traverse</span>(<span class="hljs-params">node</span>):</span>
  <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> node: <span class="hljs-keyword">return</span>
  <span class="hljs-keyword">for</span> next_node <span class="hljs-keyword">in</span> [node, node.left, node.right]:
    <span class="hljs-keyword">if</span> next_node == node: <span class="hljs-built_in">print</span>(node.val)
    <span class="hljs-keyword">else</span>: traverse(next_node)
</code></pre>
<p>我们只需要简单地调整 <code>[node, node.left, node.right]</code> 的顺序，就可以轻松地实现前序遍历、中序遍历和后序遍历，但是如果我们想要实现层次遍历，递归就无能为力了，而且由于递归本身自带的爆栈特性，在处理大规模数据时非常容易由于空间不足而报错[2]。</p>
<p>那么有没有一种有效的遍历方法，只需要稍加变形就能实现以上四种遍历呢？这个时候就要请出树和图搜索中最常用的非递归遍历方式了，只需使用一个栈或者队列来辅助，就可以轻松实现各种遍历方式。</p>
<p>我们先用一个简单的深度优先遍历（Depth First Search, DFS）算法作为例子，在前面定义好的二叉树结构的基础上，使用以下代码进行深度优先遍历：</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dfs</span>(<span class="hljs-params">node</span>):</span>
  <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> node: <span class="hljs-keyword">return</span>
  <span class="hljs-built_in">print</span>(node.val)
  <span class="hljs-keyword">for</span> next_node <span class="hljs-keyword">in</span> [node.left, node.right]:
    dfs(next_node)
</code></pre>
<p>这是一个小学生都会写的递归版本 DFS，显然无法满足我们的装逼需求，我们略施小计将其改造成非递归形式：</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dfs</span>(<span class="hljs-params">node</span>):</span>
  stack = [node]
  <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(stack) > <span class="hljs-number">0</span>:
    node = stack.pop()
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> node: <span class="hljs-keyword">continue</span>
    <span class="hljs-built_in">print</span>(node.val)
    <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> [node.left, node.right]:
      stack.append(child)
</code></pre>
<p>可以看到，代码虽然变长了，但是其解决思路却十分优雅，如果你碰巧没有在《编译原理》课上逃课、摸鱼或者睡觉，你应该能一眼看出这里的栈（stack）其实就是在模拟编译器（对于 Python 来说是解释器）在运行递归函数时的行为，回想一下之前的递归代码，每次调用自身函数时，都相当于往栈的末尾压入一个新的函数调用点，而很多编译器或者解释器（比如 Python 或者 Javascript）都没有开启尾递归优化[1]，从而引入了栈溢出的风险，所以在实际写代码的时候，非递归形式的代码往往能在性能和效率上更胜一筹，这也是除了能用来装逼之外的更重要的优点。</p>
<p>说了半天，让我们切入到文章的主题，如何对二叉树进行非递归形式的遍历呢？刚刚的 DFS 代码虽然很靓仔，但是有很多时候我要进行前中后序遍历或者层次遍历，该怎么写呢？其实只需要稍加变形即可。</p>
<p>我们再次略施小计，把 DFS 变成广度优先遍历（Breadth First Search, BFS），而且只需要改动一处即可：</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dfs</span>(<span class="hljs-params">node</span>):</span>
  queue= [node]
  <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(queue) > <span class="hljs-number">0</span>:
    node = queue.pop(<span class="hljs-number">0</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> node: <span class="hljs-keyword">continue</span>
    <span class="hljs-built_in">print</span>(node.val)
    <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> [node.left, node.right]:
      queue.append(child)
</code></pre>
<p>可以看到，我们只将栈改成了队列（queue），对于 Python 来说，只需要把 <code>pop</code> 函数的参数设置为 <code>0</code> 即可，为什么把栈改成队列就能将 DFS 改成 BFS 呢？回想一下栈和队列的特性：</p>
<ol>
<li>栈的特性是先进后出，即所有元素只能从栈的尾部进入，尾部弹出；</li>
<li>队列的特性是先进先出，即所有元素从队列的尾部进入，头部弹出。</li>
</ol>
<p>基于队列的这种先进先出的特性，我们的函数在遍历第 <code>i + 1</code> 层节点时，其第 <code>i</code> 层的节点总能保证是已经被遍历过的，从而实现了广度优先遍历，而<strong>二叉树的层次遍历其实就是广度优先遍历</strong>。</p>
<p>最后我们回到开头的引例，把上面的非递归形式的代码改造一下，从而完成二叉树的前中后序遍历，以二叉树的前序遍历为例子：</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pre_order</span>(<span class="hljs-params">node</span>):</span>
  stack = [node]
  <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(stack) > <span class="hljs-number">0</span>:
    node = stack.pop()
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> node: <span class="hljs-keyword">continue</span>
    <span class="hljs-built_in">print</span>(node.val)
    <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> [node.right, node.left]:
      stack.append(child)
</code></pre>
<p>可以看到，相对于原始的 DFS 代码，我们只调整了左右子树的入栈顺序，先将右子树入栈，再将左子树入栈，这样保证了出栈时左子树总是先于右子树出栈，从而保证了左子树一定会在右子树之前被遍历到，从而满足了前序遍历的“根左右”的遍历顺序。</p>
<p>然后再看中序遍历，思考一下中序遍历的要求：每个节点只能在其左子树遍历完成后遍历，然后再遍历其右节点，即“左根右”的顺序，也就是说，我们要控制根节点被遍历的时机，但是基于栈的方式又不可避免地要先遍历根节点才能访问到其左右孩子，那么怎么才能判定根节点被访问的时机呢？其实我们只需要略施小计，让访问过的节点“二进宫”即可，即给每个节点多设置一个状态：</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pre_order</span>(<span class="hljs-params">node</span>):</span>
  stack = [(node, <span class="hljs-literal">False</span>)]
  <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(stack) > <span class="hljs-number">0</span>:
    node, shuold_traverse = stack.pop()
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> node: <span class="hljs-keyword">continue</span>
    <span class="hljs-keyword">if</span> should_traverse:
        <span class="hljs-built_in">print</span>(node.val)
        <span class="hljs-keyword">continue</span>
    <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> [node.right, node, node.left]:
      stack.append((child, child == node))
</code></pre>
<p>可以看到，我们用 <code>should_traverse</code> 来控制遍历的时机，每个节点并不会在第一时间被输出，而是赋予一个遍历状态，注意到二次入栈时，每个节点都会严格按照“右根左“的顺序入栈，这样出栈时顺序正好为”左根右“，从而保证了每个根节点只会在其左子树之后输出，满足了中序遍历的条件。</p>
<p>有了前两个的铺垫，我们只需故技重施，就可以把中序遍历改造成后序遍历，即入栈时只需要按照”根右左“的顺序入栈：</p>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pre_order</span>(<span class="hljs-params">node</span>):</span>
  stack = [(node, <span class="hljs-literal">False</span>)]
  <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(stack) > <span class="hljs-number">0</span>:
    node, shuold_traverse = stack.pop()
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> node: <span class="hljs-keyword">continue</span>
    <span class="hljs-keyword">if</span> should_traverse:
        <span class="hljs-built_in">print</span>(node.val)
        <span class="hljs-keyword">continue</span>
    <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> [node, node.right, node.left]:
      stack.append((child, child == node))
</code></pre>
<p>这样根节点只会在其左右子树都遍历完成之后再输出，从而满足了后序遍历的条件。</p>
<p>到此为止，花式遍历二叉树的方法就介绍完毕了，其实并没有什么高深的技巧，核心思想就是用队列或者栈来模拟递归函数的行为，为所有的遍历行为提供了一个统一的行为，从而更方便记忆，在面试的时候写出来也会有奇效。</p>
<p>思考题：二叉树其实是一种有向无环图，可以想一下如何用非递归方法对一个图进行深度优先和广度优先遍历。</p>
<h3>附录</h3>
<ol>
<li><a href="https://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8">维基百科：尾调用</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E5%A0%86%E7%96%8A%E6%BA%A2%E4%BD%8D">维基百科：堆栈溢出</a></li>
</ol>
</div> <!----></div> <div class="footer" data-v-2c1886a6><div class="footer-content page" data-v-2c1886a6><div class="left" data-v-2c1886a6><div class="footer-title" data-v-2c1886a6>FRIEND LINKS</div> <div class="links footer-text" data-v-2c1886a6><a href="https://github.com/watercow/watercow.github.io/issues" class="link" data-v-2c1886a6>watercow</a><a href="https://ycjgg.github.io" class="link" data-v-2c1886a6>ycjgg</a><a href="https://blog.ch34k.xyz" class="link" data-v-2c1886a6>水厂博客</a><a href="https://www.huaji.store" class="link" data-v-2c1886a6>滑稽仓库</a><a href="https://ry.huaji.store" class="link" data-v-2c1886a6>无存在感小透明</a></div> <div class="footer-text" data-v-2c1886a6><span id="busuanzi_container_site_pv" class="footer-count" data-v-2c1886a6><span id="busuanzi_value_site_pv" data-v-2c1886a6></span> <span id="busuanzi_value_site_uv" data-v-2c1886a6></span></span> <div class="counter" data-v-2c1886a6><div class="counter-title" data-v-2c1886a6>PAGE VIEWS</div> <div class="counter-content" data-v-2c1886a6><span class="counter-number" data-v-2c1886a6>0</span><span class="counter-number" data-v-2c1886a6>0</span><span class="counter-number" data-v-2c1886a6>0</span><span class="counter-number" data-v-2c1886a6>0</span><span class="counter-number" data-v-2c1886a6>0</span></div></div> <div class="counter" data-v-2c1886a6><div class="counter-title" data-v-2c1886a6>USER VIEWS</div> <div class="counter-content" data-v-2c1886a6><span class="counter-number" data-v-2c1886a6>0</span><span class="counter-number" data-v-2c1886a6>0</span><span class="counter-number" data-v-2c1886a6>0</span><span class="counter-number" data-v-2c1886a6>0</span><span class="counter-number" data-v-2c1886a6>0</span></div></div></div> <div data-v-2c1886a6><div class="footer-title" data-v-2c1886a6>ABOUT</div> <div class="footer-text" data-v-2c1886a6>@ 蜀 ICP 备 19000509 号 - 1</div></div></div> <div class="right" data-v-2c1886a6><div class="footer-title power" data-v-2c1886a6>POWERED BY</div> <a href="https://github.com/Yidadaa/Issue-Blog-With-Github-Action" class="logo" data-v-2c1886a6>ISSUE BLOG</a></div></div></div></div></div></div><script defer src="/_nuxt/static/1681440976/posts/26/state.js"></script><script src="/_nuxt/f4057b1.js" defer></script><script src="/_nuxt/24f6f2a.js" defer></script><script src="/_nuxt/999366d.js" defer></script><script src="/_nuxt/8affbdb.js" defer></script><script src="/_nuxt/b48aaed.js" defer></script>
  </body>
</html>
